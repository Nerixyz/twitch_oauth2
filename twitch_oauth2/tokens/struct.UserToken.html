<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="An User Token from the OAuth implicit code flow or OAuth authorization code flow"><meta name="keywords" content="rust, rustlang, rust-lang, UserToken"><title>UserToken in twitch_oauth2::tokens - Rust</title><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/SourceSerif4-Regular-1f7d512b176f0f72.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/FiraSans-Regular-018c141bf0843ffd.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/FiraSans-Medium-8f9a781e4970d388.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/SourceCodePro-Regular-562dcc5011b6de7d.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/SourceSerif4-Bold-124a1ca42af929b6.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/SourceCodePro-Semibold-d899c5a5c4aeb14a.ttf.woff2"><link rel="stylesheet" href="../../static.files/normalize-76eba96aa4d2e634.css"><link rel="stylesheet" href="../../static.files/rustdoc-54cf78c3b80fc28d.css" id="mainThemeStyle"><link rel="stylesheet" id="themeStyle" href="../../static.files/light-8fe2cf7ee64a76fb.css"><link rel="stylesheet" disabled href="../../static.files/dark-7aacebe982779e9a.css"><link rel="stylesheet" disabled href="../../static.files/ayu-29dcc614f7a7b461.css"><script id="default-settings" ></script><script src="../../static.files/storage-d43fa987303ecbbb.js"></script><script defer src="sidebar-items.js"></script><script defer src="../../static.files/main-a211dbb005fb8161.js"></script><script defer src="../../static.files/scrape-examples-ef1e698c1d417c0c.js"></script><noscript><link rel="stylesheet" href="../../static.files/noscript-13285aec31fa243e.css"></noscript><link rel="alternate icon" type="image/png" href="../../static.files/favicon-16x16-8b506e7a72182f1c.png"><link rel="alternate icon" type="image/png" href="../../static.files/favicon-32x32-422f7d1d52889060.png"><link rel="icon" type="image/svg+xml" href="../../static.files/favicon-2c020d218678b618.svg"></head><body class="rustdoc struct"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle">&#9776;</button><a class="sidebar-logo" href="../../twitch_oauth2/index.html"><div class="logo-container"><img class="rust-logo" src="../../static.files/rust-logo-151179464ae7ed46.svg" alt="logo"></div></a><h2></h2></nav><nav class="sidebar"><a class="sidebar-logo" href="../../twitch_oauth2/index.html"><div class="logo-container"><img class="rust-logo" src="../../static.files/rust-logo-151179464ae7ed46.svg" alt="logo"></div></a><h2 class="location"><a href="#">UserToken</a></h2><div class="sidebar-elems"><section><h3><a href="#fields">Fields</a></h3><ul class="block"><li><a href="#structfield.access_token">access_token</a></li><li><a href="#structfield.login">login</a></li><li><a href="#structfield.never_expiring">never_expiring</a></li><li><a href="#structfield.refresh_token">refresh_token</a></li><li><a href="#structfield.user_id">user_id</a></li></ul><h3><a href="#implementations">Methods</a></h3><ul class="block"><li><a href="#method.builder">builder</a></li><li><a href="#method.from_existing">from_existing</a></li><li><a href="#method.from_existing_unchecked">from_existing_unchecked</a></li><li><a href="#method.from_response">from_response</a></li><li><a href="#method.mock_token">mock_token</a></li><li><a href="#method.new">new</a></li><li><a href="#method.set_secret">set_secret</a></li></ul><h3><a href="#trait-implementations">Trait Implementations</a></h3><ul class="block"><li><a href="#impl-Clone-for-UserToken">Clone</a></li><li><a href="#impl-Debug-for-UserToken">Debug</a></li><li><a href="#impl-TwitchToken-for-UserToken">TwitchToken</a></li></ul><h3><a href="#synthetic-implementations">Auto Trait Implementations</a></h3><ul class="block"><li><a href="#impl-RefUnwindSafe-for-UserToken">RefUnwindSafe</a></li><li><a href="#impl-Send-for-UserToken">Send</a></li><li><a href="#impl-Sync-for-UserToken">Sync</a></li><li><a href="#impl-Unpin-for-UserToken">Unpin</a></li><li><a href="#impl-UnwindSafe-for-UserToken">UnwindSafe</a></li></ul><h3><a href="#blanket-implementations">Blanket Implementations</a></h3><ul class="block"><li><a href="#impl-Any-for-UserToken">Any</a></li><li><a href="#impl-Borrow%3CT%3E-for-UserToken">Borrow&lt;T&gt;</a></li><li><a href="#impl-BorrowMut%3CT%3E-for-UserToken">BorrowMut&lt;T&gt;</a></li><li><a href="#impl-From%3CT%3E-for-UserToken">From&lt;T&gt;</a></li><li><a href="#impl-Instrument-for-UserToken">Instrument</a></li><li><a href="#impl-Instrument-for-UserToken-1">Instrument</a></li><li><a href="#impl-Into%3CU%3E-for-UserToken">Into&lt;U&gt;</a></li><li><a href="#impl-Same%3CT%3E-for-UserToken">Same&lt;T&gt;</a></li><li><a href="#impl-ToOwned-for-UserToken">ToOwned</a></li><li><a href="#impl-TryFrom%3CU%3E-for-UserToken">TryFrom&lt;U&gt;</a></li><li><a href="#impl-TryInto%3CU%3E-for-UserToken">TryInto&lt;U&gt;</a></li><li><a href="#impl-VZip%3CV%3E-for-UserToken">VZip&lt;V&gt;</a></li><li><a href="#impl-WithSubscriber-for-UserToken">WithSubscriber</a></li><li><a href="#impl-WithSubscriber-for-UserToken-1">WithSubscriber</a></li></ul></section><h2><a href="index.html">In twitch_oauth2::tokens</a></h2></div></nav><main><div class="width-limiter"><nav class="sub"><form class="search-form"><span></span><input class="search-input" name="search" aria-label="Run search in the documentation" autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"><div id="help-button" title="help" tabindex="-1"><a href="../../help.html">?</a></div><div id="settings-menu" tabindex="-1"><a href="../../settings.html" title="settings"><img width="22" height="22" alt="Change settings" src="../../static.files/wheel-5ec35bf9ca753509.svg"></a></div></form></nav><section id="main-content" class="content"><div class="main-heading"><h1 class="fqn">Struct <a href="../index.html">twitch_oauth2</a>::<wbr><a href="index.html">tokens</a>::<wbr><a class="struct" href="#">UserToken</a><button id="copy-path" onclick="copy_path(this)" title="Copy item path to clipboard"><img src="../../static.files/clipboard-7571035ce49a181d.svg" width="19" height="18" alt="Copy item path"></button></h1><span class="out-of-band"><a class="srclink" href="../../src/twitch_oauth2/tokens/user_token.rs.html#20-40">source</a> · <button id="toggle-all-docs" title="collapse all docs">[<span>&#x2212;</span>]</button></span></div><div class="item-decl"><pre class="rust struct"><code>pub struct UserToken {
    pub access_token: <a class="struct" href="../types/struct.AccessToken.html" title="struct twitch_oauth2::types::AccessToken">AccessToken</a>,
    pub login: UserName,
    pub user_id: UserId,
    pub refresh_token: <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="struct" href="../types/struct.RefreshToken.html" title="struct twitch_oauth2::types::RefreshToken">RefreshToken</a>&gt;,
    pub never_expiring: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.bool.html">bool</a>,
    /* private fields */
}</code></pre></div><details class="rustdoc-toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>An User Token from the <a href="https://dev.twitch.tv/docs/authentication/getting-tokens-oauth#oauth-implicit-code-flow">OAuth implicit code flow</a> or <a href="https://dev.twitch.tv/docs/authentication/getting-tokens-oauth#oauth-authorization-code-flow">OAuth authorization code flow</a></p>
<p>Used for requests that need an authenticated user. See also <a href="struct.AppAccessToken.html"><code>AppAccessToken</code></a></p>
<p>See <a href="struct.UserTokenBuilder.html#method.new"><code>UserToken::builder</code></a> for authenticating the user using the <code>OAuth authorization code flow</code>.</p>
</div></details><h2 id="fields" class="fields small-section-header">Fields<a href="#fields" class="anchor">§</a></h2><span id="structfield.access_token" class="structfield small-section-header"><a href="#structfield.access_token" class="anchor field">§</a><code>access_token: <a class="struct" href="../types/struct.AccessToken.html" title="struct twitch_oauth2::types::AccessToken">AccessToken</a></code></span><div class="docblock"><p>The access token used to authenticate requests with</p>
</div><span id="structfield.login" class="structfield small-section-header"><a href="#structfield.login" class="anchor field">§</a><code>login: UserName</code></span><div class="docblock"><p>Username of user associated with this token</p>
</div><span id="structfield.user_id" class="structfield small-section-header"><a href="#structfield.user_id" class="anchor field">§</a><code>user_id: UserId</code></span><div class="docblock"><p>User ID of the user associated with this token</p>
</div><span id="structfield.refresh_token" class="structfield small-section-header"><a href="#structfield.refresh_token" class="anchor field">§</a><code>refresh_token: <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="struct" href="../types/struct.RefreshToken.html" title="struct twitch_oauth2::types::RefreshToken">RefreshToken</a>&gt;</code></span><div class="docblock"><p>The refresh token used to extend the life of this user token</p>
</div><span id="structfield.never_expiring" class="structfield small-section-header"><a href="#structfield.never_expiring" class="anchor field">§</a><code>never_expiring: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.bool.html">bool</a></code></span><div class="docblock"><p>Token will never expire</p>
<p>This is only true for old client IDs, like <a href="https://twitchapps.com/tmi">https://twitchapps.com/tmi</a> and others</p>
</div><h2 id="implementations" class="small-section-header">Implementations<a href="#implementations" class="anchor">§</a></h2><div id="implementations-list"><details class="rustdoc-toggle implementors-toggle" open><summary><section id="impl-UserToken" class="impl has-srclink"><a class="srclink rightside" href="../../src/twitch_oauth2/tokens/user_token.rs.html#57-224">source</a><a href="#impl-UserToken" class="anchor">§</a><h3 class="code-header">impl <a class="struct" href="struct.UserToken.html" title="struct twitch_oauth2::tokens::UserToken">UserToken</a></h3></section></summary><div class="impl-items"><details class="rustdoc-toggle method-toggle" open><summary><section id="method.new" class="method has-srclink"><a class="srclink rightside" href="../../src/twitch_oauth2/tokens/user_token.rs.html#59-75">source</a><h4 class="code-header">pub fn <a href="#method.new" class="fn">new</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;access_token: <a class="struct" href="../types/struct.AccessToken.html" title="struct twitch_oauth2::types::AccessToken">AccessToken</a>,<br>&nbsp;&nbsp;&nbsp;&nbsp;refresh_token: <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="struct" href="../types/struct.RefreshToken.html" title="struct twitch_oauth2::types::RefreshToken">RefreshToken</a>&gt;,<br>&nbsp;&nbsp;&nbsp;&nbsp;validated: <a class="struct" href="../struct.ValidatedToken.html" title="struct twitch_oauth2::ValidatedToken">ValidatedToken</a>,<br>&nbsp;&nbsp;&nbsp;&nbsp;client_secret: impl <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.Into.html" title="trait core::convert::Into">Into</a>&lt;<a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="struct" href="../types/struct.ClientSecret.html" title="struct twitch_oauth2::types::ClientSecret">ClientSecret</a>&gt;&gt;<br>) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="struct" href="struct.UserToken.html" title="struct twitch_oauth2::tokens::UserToken">UserToken</a>, <a class="enum" href="errors/enum.ValidationError.html" title="enum twitch_oauth2::tokens::errors::ValidationError">ValidationError</a>&lt;<a class="enum" href="https://doc.rust-lang.org/nightly/core/convert/enum.Infallible.html" title="enum core::convert::Infallible">Infallible</a>&gt;&gt;</h4></section></summary><div class="docblock"><p>Create a new token</p>
</div><div class="docblock scraped-example-list"><span></span><h5 id="scraped-examples"><a href="#scraped-examples">Examples found in repository</a><a class="scrape-help" href="../../scrape-examples-help.html">?</a></h5><div class="scraped-example " data-locs="[[[10,10],&quot;../../src/twitch_oauth2/tokens/user_token.rs.html#91&quot;,&quot;line 91&quot;],[[51,56],&quot;../../src/twitch_oauth2/tokens/user_token.rs.html#132-137&quot;,&quot;lines 132-137&quot;]]"><div class="scraped-example-title">src/tokens/user_token.rs (<a href="../../src/twitch_oauth2/tokens/user_token.rs.html#91">line 91</a>)</div><div class="code-wrapper"><button class="prev">&pr;</button> <button class="next">&sc;</button><div class="example-wrap"><pre class="src-line-numbers"><span>81</span>
<span>82</span>
<span>83</span>
<span>84</span>
<span>85</span>
<span>86</span>
<span>87</span>
<span>88</span>
<span>89</span>
<span>90</span>
<span>91</span>
<span>92</span>
<span>93</span>
<span>94</span>
<span>95</span>
<span>96</span>
<span>97</span>
<span>98</span>
<span>99</span>
<span>100</span>
<span>101</span>
<span>102</span>
<span>103</span>
<span>104</span>
<span>105</span>
<span>106</span>
<span>107</span>
<span>108</span>
<span>109</span>
<span>110</span>
<span>111</span>
<span>112</span>
<span>113</span>
<span>114</span>
<span>115</span>
<span>116</span>
<span>117</span>
<span>118</span>
<span>119</span>
<span>120</span>
<span>121</span>
<span>122</span>
<span>123</span>
<span>124</span>
<span>125</span>
<span>126</span>
<span>127</span>
<span>128</span>
<span>129</span>
<span>130</span>
<span>131</span>
<span>132</span>
<span>133</span>
<span>134</span>
<span>135</span>
<span>136</span>
<span>137</span>
<span>138</span>
</pre><pre class="rust"><code><button class="expand">&varr;</button>    <span class="kw">pub async fn </span>from_existing&lt;<span class="lifetime">&#39;a</span>, C&gt;(
        http_client: <span class="kw-2">&amp;</span><span class="lifetime">&#39;a </span>C,
        access_token: AccessToken,
        refresh_token: <span class="kw">impl </span>Into&lt;<span class="prelude-ty">Option</span>&lt;RefreshToken&gt;&gt;,
        client_secret: <span class="kw">impl </span>Into&lt;<span class="prelude-ty">Option</span>&lt;ClientSecret&gt;&gt;,
    ) -&gt; <span class="prelude-ty">Result</span>&lt;UserToken, ValidationError&lt;&lt;C <span class="kw">as </span>Client&gt;::Error&gt;&gt;
    <span class="kw">where
        </span>C: Client,
    {
        <span class="kw">let </span>validated = access_token.validate_token(http_client).<span class="kw">await</span><span class="question-mark">?</span>;
        <span class="highlight focus"><span class="self">Self</span>::new</span>(access_token, refresh_token.into(), validated, client_secret)
            .map_err(|e| e.into_other())
    }

    <span class="doccomment">/// Assemble token without checks.
    ///
    /// If `expires_in` is `None`, we&#39;ll assume `token.is_elapsed` is always false
    </span><span class="attr">#[allow(clippy::too_many_arguments)]
    </span><span class="kw">pub fn </span>from_existing_unchecked(
        access_token: <span class="kw">impl </span>Into&lt;AccessToken&gt;,
        refresh_token: <span class="kw">impl </span>Into&lt;<span class="prelude-ty">Option</span>&lt;RefreshToken&gt;&gt;,
        client_id: <span class="kw">impl </span>Into&lt;ClientId&gt;,
        client_secret: <span class="kw">impl </span>Into&lt;<span class="prelude-ty">Option</span>&lt;ClientSecret&gt;&gt;,
        login: UserName,
        user_id: UserId,
        scopes: <span class="prelude-ty">Option</span>&lt;Vec&lt;Scope&gt;&gt;,
        expires_in: <span class="prelude-ty">Option</span>&lt;std::time::Duration&gt;,
    ) -&gt; UserToken {
        UserToken {
            access_token: access_token.into(),
            client_id: client_id.into(),
            client_secret: client_secret.into(),
            login,
            user_id,
            refresh_token: refresh_token.into(),
            expires_in: expires_in.unwrap_or_else(|| {
                <span class="comment">// TODO: Use Duration::MAX
                </span>std::time::Duration::new(u64::MAX, <span class="number">1_000_000_000 </span>- <span class="number">1</span>)
            }),
            struct_created: std::time::Instant::now(),
            scopes: scopes.unwrap_or_default(),
            never_expiring: expires_in.is_none(),
        }
    }

    <span class="doccomment">/// Assemble token from twitch responses.
    </span><span class="kw">pub fn </span>from_response(
        response: <span class="kw">crate</span>::id::TwitchTokenResponse,
        validated: ValidatedToken,
        client_secret: <span class="kw">impl </span>Into&lt;<span class="prelude-ty">Option</span>&lt;ClientSecret&gt;&gt;,
    ) -&gt; <span class="prelude-ty">Result</span>&lt;UserToken, ValidationError&lt;std::convert::Infallible&gt;&gt; {
        <span class="highlight"><span class="self">Self</span>::new</span>(
            response.access_token,
            response.refresh_token,
            validated,
            client_secret,
        )
    }</code></pre></div>
</div></div></div></details><details class="rustdoc-toggle method-toggle" open><summary><section id="method.from_existing" class="method has-srclink"><a class="srclink rightside" href="../../src/twitch_oauth2/tokens/user_token.rs.html#81-93">source</a><h4 class="code-header">pub async fn <a href="#method.from_existing" class="fn">from_existing</a>&lt;'a, C&gt;(<br>&nbsp;&nbsp;&nbsp;&nbsp;http_client: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;'a </a>C,<br>&nbsp;&nbsp;&nbsp;&nbsp;access_token: <a class="struct" href="../types/struct.AccessToken.html" title="struct twitch_oauth2::types::AccessToken">AccessToken</a>,<br>&nbsp;&nbsp;&nbsp;&nbsp;refresh_token: impl <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.Into.html" title="trait core::convert::Into">Into</a>&lt;<a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="struct" href="../types/struct.RefreshToken.html" title="struct twitch_oauth2::types::RefreshToken">RefreshToken</a>&gt;&gt;,<br>&nbsp;&nbsp;&nbsp;&nbsp;client_secret: impl <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.Into.html" title="trait core::convert::Into">Into</a>&lt;<a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="struct" href="../types/struct.ClientSecret.html" title="struct twitch_oauth2::types::ClientSecret">ClientSecret</a>&gt;&gt;<br>) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="struct" href="struct.UserToken.html" title="struct twitch_oauth2::tokens::UserToken">UserToken</a>, <a class="enum" href="errors/enum.ValidationError.html" title="enum twitch_oauth2::tokens::errors::ValidationError">ValidationError</a>&lt;&lt;C as <a class="trait" href="../client/trait.Client.html" title="trait twitch_oauth2::client::Client">Client</a>&gt;::<a class="associatedtype" href="../client/trait.Client.html#associatedtype.Error" title="type twitch_oauth2::client::Client::Error">Error</a>&gt;&gt;<span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;C: <a class="trait" href="../client/trait.Client.html" title="trait twitch_oauth2::client::Client">Client</a>,</span></h4></section><span class="item-info"><div class="stab portability">Available on <strong>crate feature <code>client</code></strong> only.</div></span></summary><div class="docblock"><p>Assemble token and validate it. Retrieves <a href="../trait.TwitchToken.html#tymethod.login"><code>login</code></a>, <a href="../trait.TwitchToken.html#tymethod.client_id"><code>client_id</code></a> and <a href="../trait.TwitchToken.html#tymethod.scopes"><code>scopes</code></a></p>
<p>If the token is already expired, this function will fail to produce a <a href="struct.UserToken.html" title="UserToken"><code>UserToken</code></a> and return <a href="errors/enum.ValidationError.html#variant.NotAuthorized" title="ValidationError::NotAuthorized"><code>ValidationError::NotAuthorized</code></a></p>
</div><div class="docblock scraped-example-list"><span></span><h5 id="scraped-examples-1"><a href="#scraped-examples-1">Examples found in repository</a><a class="scrape-help" href="../../scrape-examples-help.html">?</a></h5><div class="scraped-example " data-locs="[[[36,41],&quot;../../src/twitch_oauth2/tokens/user_token.rs.html#212-217&quot;,&quot;lines 212-217&quot;],[[483,488],&quot;../../src/twitch_oauth2/tokens/user_token.rs.html#659-664&quot;,&quot;lines 659-664&quot;]]"><div class="scraped-example-title">src/tokens/user_token.rs (<a href="../../src/twitch_oauth2/tokens/user_token.rs.html#212-217">lines 212-217</a>)</div><div class="code-wrapper"><button class="prev">&pr;</button> <button class="next">&sc;</button><div class="example-wrap"><pre class="src-line-numbers"><span>176</span>
<span>177</span>
<span>178</span>
<span>179</span>
<span>180</span>
<span>181</span>
<span>182</span>
<span>183</span>
<span>184</span>
<span>185</span>
<span>186</span>
<span>187</span>
<span>188</span>
<span>189</span>
<span>190</span>
<span>191</span>
<span>192</span>
<span>193</span>
<span>194</span>
<span>195</span>
<span>196</span>
<span>197</span>
<span>198</span>
<span>199</span>
<span>200</span>
<span>201</span>
<span>202</span>
<span>203</span>
<span>204</span>
<span>205</span>
<span>206</span>
<span>207</span>
<span>208</span>
<span>209</span>
<span>210</span>
<span>211</span>
<span>212</span>
<span>213</span>
<span>214</span>
<span>215</span>
<span>216</span>
<span>217</span>
<span>218</span>
<span>219</span>
<span>220</span>
<span>221</span>
<span>222</span>
<span>223</span>
<span>224</span>
<span>225</span>
<span>226</span>
<span>227</span>
<span>228</span>
<span>229</span>
<span>230</span>
<span>231</span>
<span>232</span>
<span>233</span>
<span>234</span>
<span>235</span>
<span>236</span>
<span>237</span>
<span>238</span>
<span>239</span>
<span>240</span>
<span>241</span>
<span>242</span>
<span>243</span>
<span>244</span>
<span>245</span>
<span>246</span>
<span>247</span>
<span>248</span>
<span>249</span>
<span>250</span>
<span>251</span>
<span>252</span>
<span>253</span>
<span>254</span>
<span>255</span>
<span>256</span>
<span>257</span>
<span>258</span>
<span>259</span>
<span>260</span>
<span>261</span>
<span>262</span>
<span>263</span>
<span>264</span>
<span>265</span>
<span>266</span>
<span>267</span>
<span>268</span>
<span>269</span>
<span>270</span>
<span>271</span>
<span>272</span>
<span>273</span>
<span>274</span>
<span>275</span>
<span>276</span>
<span>277</span>
<span>278</span>
<span>279</span>
<span>280</span>
<span>281</span>
<span>282</span>
<span>283</span>
<span>284</span>
<span>285</span>
<span>286</span>
<span>287</span>
<span>288</span>
<span>289</span>
<span>290</span>
<span>291</span>
<span>292</span>
<span>293</span>
<span>294</span>
<span>295</span>
<span>296</span>
<span>297</span>
<span>298</span>
<span>299</span>
<span>300</span>
<span>301</span>
<span>302</span>
<span>303</span>
<span>304</span>
<span>305</span>
<span>306</span>
<span>307</span>
<span>308</span>
<span>309</span>
<span>310</span>
<span>311</span>
<span>312</span>
<span>313</span>
<span>314</span>
<span>315</span>
<span>316</span>
<span>317</span>
<span>318</span>
<span>319</span>
<span>320</span>
<span>321</span>
<span>322</span>
<span>323</span>
<span>324</span>
<span>325</span>
<span>326</span>
<span>327</span>
<span>328</span>
<span>329</span>
<span>330</span>
<span>331</span>
<span>332</span>
<span>333</span>
<span>334</span>
<span>335</span>
<span>336</span>
<span>337</span>
<span>338</span>
<span>339</span>
<span>340</span>
<span>341</span>
<span>342</span>
<span>343</span>
<span>344</span>
<span>345</span>
<span>346</span>
<span>347</span>
<span>348</span>
<span>349</span>
<span>350</span>
<span>351</span>
<span>352</span>
<span>353</span>
<span>354</span>
<span>355</span>
<span>356</span>
<span>357</span>
<span>358</span>
<span>359</span>
<span>360</span>
<span>361</span>
<span>362</span>
<span>363</span>
<span>364</span>
<span>365</span>
<span>366</span>
<span>367</span>
<span>368</span>
<span>369</span>
<span>370</span>
<span>371</span>
<span>372</span>
<span>373</span>
<span>374</span>
<span>375</span>
<span>376</span>
<span>377</span>
<span>378</span>
<span>379</span>
<span>380</span>
<span>381</span>
<span>382</span>
<span>383</span>
<span>384</span>
<span>385</span>
<span>386</span>
<span>387</span>
<span>388</span>
<span>389</span>
<span>390</span>
<span>391</span>
<span>392</span>
<span>393</span>
<span>394</span>
<span>395</span>
<span>396</span>
<span>397</span>
<span>398</span>
<span>399</span>
<span>400</span>
<span>401</span>
<span>402</span>
<span>403</span>
<span>404</span>
<span>405</span>
<span>406</span>
<span>407</span>
<span>408</span>
<span>409</span>
<span>410</span>
<span>411</span>
<span>412</span>
<span>413</span>
<span>414</span>
<span>415</span>
<span>416</span>
<span>417</span>
<span>418</span>
<span>419</span>
<span>420</span>
<span>421</span>
<span>422</span>
<span>423</span>
<span>424</span>
<span>425</span>
<span>426</span>
<span>427</span>
<span>428</span>
<span>429</span>
<span>430</span>
<span>431</span>
<span>432</span>
<span>433</span>
<span>434</span>
<span>435</span>
<span>436</span>
<span>437</span>
<span>438</span>
<span>439</span>
<span>440</span>
<span>441</span>
<span>442</span>
<span>443</span>
<span>444</span>
<span>445</span>
<span>446</span>
<span>447</span>
<span>448</span>
<span>449</span>
<span>450</span>
<span>451</span>
<span>452</span>
<span>453</span>
<span>454</span>
<span>455</span>
<span>456</span>
<span>457</span>
<span>458</span>
<span>459</span>
<span>460</span>
<span>461</span>
<span>462</span>
<span>463</span>
<span>464</span>
<span>465</span>
<span>466</span>
<span>467</span>
<span>468</span>
<span>469</span>
<span>470</span>
<span>471</span>
<span>472</span>
<span>473</span>
<span>474</span>
<span>475</span>
<span>476</span>
<span>477</span>
<span>478</span>
<span>479</span>
<span>480</span>
<span>481</span>
<span>482</span>
<span>483</span>
<span>484</span>
<span>485</span>
<span>486</span>
<span>487</span>
<span>488</span>
<span>489</span>
<span>490</span>
<span>491</span>
<span>492</span>
<span>493</span>
<span>494</span>
<span>495</span>
<span>496</span>
<span>497</span>
<span>498</span>
<span>499</span>
<span>500</span>
<span>501</span>
<span>502</span>
<span>503</span>
<span>504</span>
<span>505</span>
<span>506</span>
<span>507</span>
<span>508</span>
<span>509</span>
<span>510</span>
<span>511</span>
<span>512</span>
<span>513</span>
<span>514</span>
<span>515</span>
<span>516</span>
<span>517</span>
<span>518</span>
<span>519</span>
<span>520</span>
<span>521</span>
<span>522</span>
<span>523</span>
<span>524</span>
<span>525</span>
<span>526</span>
<span>527</span>
<span>528</span>
<span>529</span>
<span>530</span>
<span>531</span>
<span>532</span>
<span>533</span>
<span>534</span>
<span>535</span>
<span>536</span>
<span>537</span>
<span>538</span>
<span>539</span>
<span>540</span>
<span>541</span>
<span>542</span>
<span>543</span>
<span>544</span>
<span>545</span>
<span>546</span>
<span>547</span>
<span>548</span>
<span>549</span>
<span>550</span>
<span>551</span>
<span>552</span>
<span>553</span>
<span>554</span>
<span>555</span>
<span>556</span>
<span>557</span>
<span>558</span>
<span>559</span>
<span>560</span>
<span>561</span>
<span>562</span>
<span>563</span>
<span>564</span>
<span>565</span>
<span>566</span>
<span>567</span>
<span>568</span>
<span>569</span>
<span>570</span>
<span>571</span>
<span>572</span>
<span>573</span>
<span>574</span>
<span>575</span>
<span>576</span>
<span>577</span>
<span>578</span>
<span>579</span>
<span>580</span>
<span>581</span>
<span>582</span>
<span>583</span>
<span>584</span>
<span>585</span>
<span>586</span>
<span>587</span>
<span>588</span>
<span>589</span>
<span>590</span>
<span>591</span>
<span>592</span>
<span>593</span>
<span>594</span>
<span>595</span>
<span>596</span>
<span>597</span>
<span>598</span>
<span>599</span>
<span>600</span>
<span>601</span>
<span>602</span>
<span>603</span>
<span>604</span>
<span>605</span>
<span>606</span>
<span>607</span>
<span>608</span>
<span>609</span>
<span>610</span>
<span>611</span>
<span>612</span>
<span>613</span>
<span>614</span>
<span>615</span>
<span>616</span>
<span>617</span>
<span>618</span>
<span>619</span>
<span>620</span>
<span>621</span>
<span>622</span>
<span>623</span>
<span>624</span>
<span>625</span>
<span>626</span>
<span>627</span>
<span>628</span>
<span>629</span>
<span>630</span>
<span>631</span>
<span>632</span>
<span>633</span>
<span>634</span>
<span>635</span>
<span>636</span>
<span>637</span>
<span>638</span>
<span>639</span>
<span>640</span>
<span>641</span>
<span>642</span>
<span>643</span>
<span>644</span>
<span>645</span>
<span>646</span>
<span>647</span>
<span>648</span>
<span>649</span>
<span>650</span>
<span>651</span>
<span>652</span>
<span>653</span>
<span>654</span>
<span>655</span>
<span>656</span>
<span>657</span>
<span>658</span>
<span>659</span>
<span>660</span>
<span>661</span>
<span>662</span>
<span>663</span>
<span>664</span>
<span>665</span>
<span>666</span>
<span>667</span>
<span>668</span>
<span>669</span>
<span>670</span>
<span>671</span>
<span>672</span>
<span>673</span>
<span>674</span>
<span>675</span>
</pre><pre class="rust"><code><button class="expand">&varr;</button>    <span class="kw">pub async fn </span>mock_token&lt;<span class="lifetime">&#39;a</span>, C&gt;(
        http_client: <span class="kw-2">&amp;</span><span class="lifetime">&#39;a </span>C,
        client_id: ClientId,
        client_secret: ClientSecret,
        user_id: <span class="kw">impl </span>AsRef&lt;str&gt;,
        scopes: Vec&lt;Scope&gt;,
    ) -&gt; <span class="prelude-ty">Result</span>&lt;UserToken, UserTokenExchangeError&lt;&lt;C <span class="kw">as </span>Client&gt;::Error&gt;&gt;
    <span class="kw">where
        </span>C: Client,
    {
        <span class="kw">use </span>http::{HeaderMap, Method};
        <span class="kw">use </span>std::collections::HashMap;

        <span class="kw">let </span>user_id = user_id.as_ref();
        <span class="kw">let </span>scope_str = scopes.as_slice().join(<span class="string">&quot; &quot;</span>);
        <span class="kw">let </span><span class="kw-2">mut </span>params = HashMap::new();
        params.insert(<span class="string">&quot;client_id&quot;</span>, client_id.as_str());
        params.insert(<span class="string">&quot;client_secret&quot;</span>, client_secret.secret());
        params.insert(<span class="string">&quot;grant_type&quot;</span>, <span class="string">&quot;user_token&quot;</span>);
        params.insert(<span class="string">&quot;scope&quot;</span>, <span class="kw-2">&amp;</span>scope_str);
        params.insert(<span class="string">&quot;user_id&quot;</span>, user_id);

        <span class="kw">let </span>req = <span class="kw">crate</span>::construct_request(
            <span class="kw-2">&amp;</span><span class="kw">crate</span>::AUTH_URL,
            <span class="kw-2">&amp;</span>params,
            HeaderMap::new(),
            Method::POST,
            <span class="macro">vec!</span>[],
        );

        <span class="kw">let </span>resp = http_client
            .req(req)
            .<span class="kw">await
            </span>.map_err(UserTokenExchangeError::RequestError)<span class="question-mark">?</span>;
        <span class="kw">let </span>response = <span class="kw">crate</span>::id::TwitchTokenResponse::from_response(<span class="kw-2">&amp;</span>resp)<span class="question-mark">?</span>;

        <span class="highlight focus">UserToken::from_existing</span>(
            http_client,
            response.access_token,
            response.refresh_token,
            client_secret,
        )
        .<span class="kw">await
        </span>.map_err(Into::into)
    }

    <span class="doccomment">/// Set the client secret
    </span><span class="kw">pub fn </span>set_secret(<span class="kw-2">&amp;mut </span><span class="self">self</span>, secret: <span class="prelude-ty">Option</span>&lt;ClientSecret&gt;) { <span class="self">self</span>.client_secret = secret }
}

<span class="attr">#[cfg_attr(feature = <span class="string">&quot;client&quot;</span>, async_trait::async_trait)]
</span><span class="kw">impl </span>TwitchToken <span class="kw">for </span>UserToken {
    <span class="kw">fn </span>token_type() -&gt; <span class="kw">super</span>::BearerTokenType { <span class="kw">super</span>::BearerTokenType::UserToken }

    <span class="kw">fn </span>client_id(<span class="kw-2">&amp;</span><span class="self">self</span>) -&gt; <span class="kw-2">&amp;</span>ClientId { <span class="kw-2">&amp;</span><span class="self">self</span>.client_id }

    <span class="kw">fn </span>token(<span class="kw-2">&amp;</span><span class="self">self</span>) -&gt; <span class="kw-2">&amp;</span>AccessToken { <span class="kw-2">&amp;</span><span class="self">self</span>.access_token }

    <span class="kw">fn </span>login(<span class="kw-2">&amp;</span><span class="self">self</span>) -&gt; <span class="prelude-ty">Option</span>&lt;<span class="kw-2">&amp;</span>UserNameRef&gt; { <span class="prelude-val">Some</span>(<span class="kw-2">&amp;</span><span class="self">self</span>.login) }

    <span class="kw">fn </span>user_id(<span class="kw-2">&amp;</span><span class="self">self</span>) -&gt; <span class="prelude-ty">Option</span>&lt;<span class="kw-2">&amp;</span>UserIdRef&gt; { <span class="prelude-val">Some</span>(<span class="kw-2">&amp;</span><span class="self">self</span>.user_id) }

    <span class="attr">#[cfg(feature = <span class="string">&quot;client&quot;</span>)]
    </span><span class="kw">async fn </span>refresh_token&lt;<span class="lifetime">&#39;a</span>, C&gt;(
        <span class="kw-2">&amp;mut </span><span class="self">self</span>,
        http_client: <span class="kw-2">&amp;</span><span class="lifetime">&#39;a </span>C,
    ) -&gt; <span class="prelude-ty">Result</span>&lt;(), RefreshTokenError&lt;&lt;C <span class="kw">as </span>Client&gt;::Error&gt;&gt;
    <span class="kw">where
        </span><span class="self">Self</span>: Sized,
        C: Client,
    {
        <span class="kw">if let </span><span class="prelude-val">Some</span>(client_secret) = <span class="self">self</span>.client_secret.clone() {
            <span class="kw">let </span>(access_token, expires, refresh_token) =
                <span class="kw">if let </span><span class="prelude-val">Some</span>(token) = <span class="self">self</span>.refresh_token.take() {
                    token
                        .refresh_token(http_client, <span class="kw-2">&amp;</span><span class="self">self</span>.client_id, <span class="kw-2">&amp;</span>client_secret)
                        .<span class="kw">await</span><span class="question-mark">?
                </span>} <span class="kw">else </span>{
                    <span class="kw">return </span><span class="prelude-val">Err</span>(RefreshTokenError::NoRefreshToken);
                };
            <span class="self">self</span>.access_token = access_token;
            <span class="self">self</span>.expires_in = expires;
            <span class="self">self</span>.refresh_token = refresh_token;
            <span class="prelude-val">Ok</span>(())
        } <span class="kw">else </span>{
            <span class="kw">return </span><span class="prelude-val">Err</span>(RefreshTokenError::NoClientSecretFound);
        }
    }

    <span class="kw">fn </span>expires_in(<span class="kw-2">&amp;</span><span class="self">self</span>) -&gt; std::time::Duration {
        <span class="kw">if </span>!<span class="self">self</span>.never_expiring {
            <span class="self">self</span>.expires_in
                .checked_sub(<span class="self">self</span>.struct_created.elapsed())
                .unwrap_or_default()
        } <span class="kw">else </span>{
            <span class="comment">// We don&#39;t return an option here because it&#39;s not expected to use this if the token is known to be unexpiring.
            // TODO: Use Duration::MAX
            </span>std::time::Duration::new(u64::MAX, <span class="number">1_000_000_000 </span>- <span class="number">1</span>)
        }
    }

    <span class="kw">fn </span>scopes(<span class="kw-2">&amp;</span><span class="self">self</span>) -&gt; <span class="kw-2">&amp;</span>[Scope] { <span class="self">self</span>.scopes.as_slice() }
}

<span class="doccomment">/// Builder for [OAuth authorization code flow](https://dev.twitch.tv/docs/authentication/getting-tokens-oauth/#oauth-authorization-code-flow)
///
/// See [`ImplicitUserTokenBuilder`] for the [OAuth implicit code flow](https://dev.twitch.tv/docs/authentication/getting-tokens-oauth/#oauth-implicit-code-flow) (does not require Client Secret)
</span><span class="kw">pub struct </span>UserTokenBuilder {
    <span class="kw">pub</span>(<span class="kw">crate</span>) scopes: Vec&lt;Scope&gt;,
    <span class="kw">pub</span>(<span class="kw">crate</span>) csrf: <span class="prelude-ty">Option</span>&lt;<span class="kw">crate</span>::types::CsrfToken&gt;,
    <span class="kw">pub</span>(<span class="kw">crate</span>) force_verify: bool,
    <span class="kw">pub</span>(<span class="kw">crate</span>) redirect_url: url::Url,
    client_id: ClientId,
    client_secret: ClientSecret,
}

<span class="kw">impl </span>UserTokenBuilder {
    <span class="doccomment">/// Create a [`UserTokenBuilder`]
    ///
    /// # Notes
    ///
    /// The `url` crate converts empty paths into &quot;/&quot; (such as `https://example.com` into `https://example.com/`),
    /// which means that you&#39;ll need to add `https://example.com/` to your redirect URIs (note the &quot;trailing&quot; slash) if you want to use an empty path.
    ///
    /// To avoid this, use a path such as `https://example.com/twitch/register` or similar instead, where the `url` crate would not add a trailing `/`.
    </span><span class="kw">pub fn </span>new(
        client_id: <span class="kw">impl </span>Into&lt;ClientId&gt;,
        client_secret: <span class="kw">impl </span>Into&lt;ClientSecret&gt;,
        redirect_url: url::Url,
    ) -&gt; UserTokenBuilder {
        UserTokenBuilder {
            scopes: <span class="macro">vec!</span>[],
            csrf: <span class="prelude-val">None</span>,
            force_verify: <span class="bool-val">false</span>,
            redirect_url,
            client_id: client_id.into(),
            client_secret: client_secret.into(),
        }
    }

    <span class="doccomment">/// Add scopes to the request
    </span><span class="kw">pub fn </span>set_scopes(<span class="kw-2">mut </span><span class="self">self</span>, scopes: Vec&lt;Scope&gt;) -&gt; <span class="self">Self </span>{
        <span class="self">self</span>.scopes = scopes;
        <span class="self">self
    </span>}

    <span class="doccomment">/// Add a single scope to request
    </span><span class="kw">pub fn </span>add_scope(<span class="kw-2">&amp;mut </span><span class="self">self</span>, scope: Scope) { <span class="self">self</span>.scopes.push(scope); }

    <span class="doccomment">/// Enable or disable function to make the user able to switch accounts if needed.
    </span><span class="kw">pub fn </span>force_verify(<span class="kw-2">mut </span><span class="self">self</span>, b: bool) -&gt; <span class="self">Self </span>{
        <span class="self">self</span>.force_verify = b;
        <span class="self">self
    </span>}

    <span class="doccomment">/// Generate the URL to request a code.
    ///
    /// Step 1. in the [guide](https://dev.twitch.tv/docs/authentication/getting-tokens-oauth/#oauth-authorization-code-flow)
    </span><span class="kw">pub fn </span>generate_url(<span class="kw-2">&amp;mut </span><span class="self">self</span>) -&gt; (url::Url, <span class="kw">crate</span>::types::CsrfToken) {
        <span class="kw">let </span>csrf = <span class="kw">crate</span>::types::CsrfToken::new_random();
        <span class="self">self</span>.csrf = <span class="prelude-val">Some</span>(csrf.clone());
        <span class="kw">let </span><span class="kw-2">mut </span>url = <span class="kw">crate</span>::AUTH_URL.clone();

        <span class="kw">let </span>auth = <span class="macro">vec!</span>[
            (<span class="string">&quot;response_type&quot;</span>, <span class="string">&quot;code&quot;</span>),
            (<span class="string">&quot;client_id&quot;</span>, <span class="self">self</span>.client_id.as_str()),
            (<span class="string">&quot;redirect_uri&quot;</span>, <span class="self">self</span>.redirect_url.as_str()),
            (<span class="string">&quot;state&quot;</span>, csrf.as_str()),
        ];

        url.query_pairs_mut().extend_pairs(auth);

        <span class="kw">if </span>!<span class="self">self</span>.scopes.is_empty() {
            url.query_pairs_mut()
                .append_pair(<span class="string">&quot;scope&quot;</span>, <span class="kw-2">&amp;</span><span class="self">self</span>.scopes.as_slice().join(<span class="string">&quot; &quot;</span>));
        }

        <span class="kw">if </span><span class="self">self</span>.force_verify {
            url.query_pairs_mut().append_pair(<span class="string">&quot;force_verify&quot;</span>, <span class="string">&quot;true&quot;</span>);
        };

        (url, csrf)
    }

    <span class="doccomment">/// Set the CSRF token.
    ///
    /// Hidden because you should preferably not use this.
    </span><span class="attr">#[doc(hidden)]
    </span><span class="kw">pub fn </span>set_csrf(<span class="kw-2">&amp;mut </span><span class="self">self</span>, csrf: <span class="kw">crate</span>::types::CsrfToken) { <span class="self">self</span>.csrf = <span class="prelude-val">Some</span>(csrf); }

    <span class="doccomment">/// Check if the CSRF is valid
    </span><span class="kw">pub fn </span>csrf_is_valid(<span class="kw-2">&amp;</span><span class="self">self</span>, csrf: <span class="kw-2">&amp;</span>str) -&gt; bool {
        <span class="kw">if let </span><span class="prelude-val">Some</span>(csrf2) = <span class="kw-2">&amp;</span><span class="self">self</span>.csrf {
            csrf2.secret() == csrf
        } <span class="kw">else </span>{
            <span class="bool-val">false
        </span>}
    }

    <span class="doccomment">/// Get the request for getting a [TwitchTokenResponse](crate::id::TwitchTokenResponse), to be used in [UserToken::from_response].
    ///
    /// # Examples
    ///
    /// ```rust
    /// use twitch_oauth2::{tokens::UserTokenBuilder, id::TwitchTokenResponse};
    /// use url::Url;
    /// let callback_url = Url::parse(&quot;http://localhost/twitch/register&quot;)?;
    /// let mut builder = UserTokenBuilder::new(&quot;myclientid&quot;, &quot;myclientsecret&quot;, callback_url);
    /// let (url, _csrf_code) = builder.generate_url();
    ///
    /// // Direct the user to this url.
    /// // Later when your server gets a response on `callback_url` with `?code=xxxxxxx&amp;state=xxxxxxx&amp;scope=aa%3Aaa+bb%3Abb`
    ///
    /// // validate the state
    /// # let state_in_query = _csrf_code.secret();
    /// if !builder.csrf_is_valid(state_in_query) {
    ///     panic!(&quot;state mismatched&quot;)
    /// }
    /// // and then get your token
    /// # let code_in_query = _csrf_code.secret();
    /// let request = builder.get_user_token_request(code_in_query);
    ///
    /// // use your favorite http client
    ///
    /// let response: http::Response&lt;Vec&lt;u8&gt;&gt; = client_req(request);
    /// let twitch_response = TwitchTokenResponse::from_response(&amp;response)?;
    ///
    /// // you now have a access token, do what you want with it.
    /// // You&#39;re recommended to convert it into a `UserToken` via `UserToken::from_response`
    ///
    /// // You can validate the access_token like this
    /// let validated_req = twitch_response.access_token.validate_token_request();
    /// # fn client_req(_: http::Request&lt;Vec&lt;u8&gt;&gt;) -&gt; http::Response&lt;Vec&lt;u8&gt;&gt; { http::Response::new(
    /// # r#&quot;{&quot;access_token&quot;:&quot;rfx2uswqe8l4g1mkagrvg5tv0ks3&quot;,&quot;expires_in&quot;:14124,&quot;refresh_token&quot;:&quot;5b93chm6hdve3mycz05zfzatkfdenfspp1h1ar2xxdalen01&quot;,&quot;scope&quot;:[&quot;channel:moderate&quot;,&quot;chat:edit&quot;,&quot;chat:read&quot;],&quot;token_type&quot;:&quot;bearer&quot;}&quot;#.bytes().collect()
    /// # ) }
    /// # Ok::&lt;(), Box&lt;dyn std::error::Error&gt;&gt;(())
    /// ```
    </span><span class="kw">pub fn </span>get_user_token_request(<span class="kw-2">&amp;</span><span class="self">self</span>, code: <span class="kw-2">&amp;</span>str) -&gt; http::Request&lt;Vec&lt;u8&gt;&gt; {
        <span class="kw">use </span>http::{HeaderMap, Method};
        <span class="kw">use </span>std::collections::HashMap;
        <span class="kw">let </span><span class="kw-2">mut </span>params = HashMap::new();
        params.insert(<span class="string">&quot;client_id&quot;</span>, <span class="self">self</span>.client_id.as_str());
        params.insert(<span class="string">&quot;client_secret&quot;</span>, <span class="self">self</span>.client_secret.secret());
        params.insert(<span class="string">&quot;code&quot;</span>, code);
        params.insert(<span class="string">&quot;grant_type&quot;</span>, <span class="string">&quot;authorization_code&quot;</span>);
        params.insert(<span class="string">&quot;redirect_uri&quot;</span>, <span class="self">self</span>.redirect_url.as_str());

        <span class="kw">crate</span>::construct_request(
            <span class="kw-2">&amp;</span><span class="kw">crate</span>::TOKEN_URL,
            <span class="kw-2">&amp;</span>params,
            HeaderMap::new(),
            Method::POST,
            <span class="macro">vec!</span>[],
        )
    }

    <span class="doccomment">/// Generate the code with the help of the authorization code
    ///
    /// Step 3. and 4. in the [guide](https://dev.twitch.tv/docs/authentication/getting-tokens-oauth/#oauth-authorization-code-flow)
    ///
    /// On failure to authenticate due to wrong redirect url or other errors, twitch redirects the user to `&lt;redirect_url or first defined url in dev console&gt;?error=&lt;error type&gt;&amp;error_description=&lt;description of error&gt;`
    </span><span class="attr">#[cfg(feature = <span class="string">&quot;client&quot;</span>)]
    </span><span class="kw">pub async fn </span>get_user_token&lt;<span class="lifetime">&#39;a</span>, C&gt;(
        <span class="self">self</span>,
        http_client: <span class="kw-2">&amp;</span><span class="lifetime">&#39;a </span>C,
        state: <span class="kw-2">&amp;</span>str,
        <span class="comment">// TODO: Should be either str or AuthorizationCode
        </span>code: <span class="kw-2">&amp;</span>str,
    ) -&gt; <span class="prelude-ty">Result</span>&lt;UserToken, UserTokenExchangeError&lt;&lt;C <span class="kw">as </span>Client&gt;::Error&gt;&gt;
    <span class="kw">where
        </span>C: Client,
    {
        <span class="kw">if </span>!<span class="self">self</span>.csrf_is_valid(state) {
            <span class="kw">return </span><span class="prelude-val">Err</span>(UserTokenExchangeError::StateMismatch);
        }

        <span class="kw">let </span>req = <span class="self">self</span>.get_user_token_request(code);

        <span class="kw">let </span>resp = http_client
            .req(req)
            .<span class="kw">await
            </span>.map_err(UserTokenExchangeError::RequestError)<span class="question-mark">?</span>;

        <span class="kw">let </span>response = <span class="kw">crate</span>::id::TwitchTokenResponse::from_response(<span class="kw-2">&amp;</span>resp)<span class="question-mark">?</span>;
        <span class="kw">let </span>validated = response.access_token.validate_token(http_client).<span class="kw">await</span><span class="question-mark">?</span>;

        UserToken::from_response(response, validated, <span class="self">self</span>.client_secret)
            .map_err(|v| v.into_other().into())
    }
}

<span class="doccomment">/// Builder for [OAuth implicit code flow](https://dev.twitch.tv/docs/authentication/getting-tokens-oauth/#oauth-implicit-code-flow)
///
/// See [`UserTokenBuilder`] for the [OAuth authorization code flow](https://dev.twitch.tv/docs/authentication/getting-tokens-oauth/#oauth-authorization-code-flow) (requires Client Secret, generally more secure)
</span><span class="kw">pub struct </span>ImplicitUserTokenBuilder {
    <span class="kw">pub</span>(<span class="kw">crate</span>) scopes: Vec&lt;Scope&gt;,
    <span class="kw">pub</span>(<span class="kw">crate</span>) csrf: <span class="prelude-ty">Option</span>&lt;<span class="kw">crate</span>::types::CsrfToken&gt;,
    <span class="kw">pub</span>(<span class="kw">crate</span>) redirect_url: url::Url,
    <span class="kw">pub</span>(<span class="kw">crate</span>) force_verify: bool,
    client_id: ClientId,
}

<span class="kw">impl </span>ImplicitUserTokenBuilder {
    <span class="doccomment">/// Create a [`ImplicitUserTokenBuilder`]
    ///
    /// # Notes
    ///
    /// The `url` crate converts empty paths into &quot;/&quot; (such as `https://example.com` into `https://example.com/`),
    /// which means that you&#39;ll need to add `https://example.com/` to your redirect URIs (note the &quot;trailing&quot; slash) if you want to use an empty path.
    ///
    /// To avoid this, use a path such as `https://example.com/twitch/register` or similar instead, where the `url` crate would not add a trailing `/`.
    </span><span class="kw">pub fn </span>new(client_id: ClientId, redirect_url: url::Url) -&gt; ImplicitUserTokenBuilder {
        ImplicitUserTokenBuilder {
            scopes: <span class="macro">vec!</span>[],
            redirect_url,
            csrf: <span class="prelude-val">None</span>,
            force_verify: <span class="bool-val">false</span>,
            client_id,
        }
    }

    <span class="doccomment">/// Add scopes to the request
    </span><span class="kw">pub fn </span>set_scopes(<span class="kw-2">mut </span><span class="self">self</span>, scopes: Vec&lt;Scope&gt;) -&gt; <span class="self">Self </span>{
        <span class="self">self</span>.scopes = scopes;
        <span class="self">self
    </span>}

    <span class="doccomment">/// Add a single scope to request
    </span><span class="kw">pub fn </span>add_scope(<span class="kw-2">&amp;mut </span><span class="self">self</span>, scope: Scope) { <span class="self">self</span>.scopes.push(scope); }

    <span class="doccomment">/// Enable or disable function to make the user able to switch accounts if needed.
    </span><span class="kw">pub fn </span>force_verify(<span class="kw-2">mut </span><span class="self">self</span>, b: bool) -&gt; <span class="self">Self </span>{
        <span class="self">self</span>.force_verify = b;
        <span class="self">self
    </span>}

    <span class="doccomment">/// Generate the URL to request a token.
    ///
    /// Step 1. in the [guide](https://dev.twitch.tv/docs/authentication/getting-tokens-oauth/#auth-implicit-code-flow)
    </span><span class="kw">pub fn </span>generate_url(<span class="kw-2">&amp;mut </span><span class="self">self</span>) -&gt; (url::Url, <span class="kw">crate</span>::types::CsrfToken) {
        <span class="kw">let </span>csrf = <span class="kw">crate</span>::types::CsrfToken::new_random();
        <span class="self">self</span>.csrf = <span class="prelude-val">Some</span>(csrf.clone());
        <span class="kw">let </span><span class="kw-2">mut </span>url = <span class="kw">crate</span>::AUTH_URL.clone();

        <span class="kw">let </span>auth = <span class="macro">vec!</span>[
            (<span class="string">&quot;response_type&quot;</span>, <span class="string">&quot;token&quot;</span>),
            (<span class="string">&quot;client_id&quot;</span>, <span class="self">self</span>.client_id.as_str()),
            (<span class="string">&quot;redirect_uri&quot;</span>, <span class="self">self</span>.redirect_url.as_str()),
            (<span class="string">&quot;state&quot;</span>, csrf.as_str()),
        ];

        url.query_pairs_mut().extend_pairs(auth);

        <span class="kw">if </span>!<span class="self">self</span>.scopes.is_empty() {
            url.query_pairs_mut()
                .append_pair(<span class="string">&quot;scope&quot;</span>, <span class="kw-2">&amp;</span><span class="self">self</span>.scopes.as_slice().join(<span class="string">&quot; &quot;</span>));
        }

        <span class="kw">if </span><span class="self">self</span>.force_verify {
            url.query_pairs_mut().append_pair(<span class="string">&quot;force_verify&quot;</span>, <span class="string">&quot;true&quot;</span>);
        };

        (url, csrf)
    }

    <span class="doccomment">/// Check if the CSRF is valid
    </span><span class="kw">pub fn </span>csrf_is_valid(<span class="kw-2">&amp;</span><span class="self">self</span>, csrf: <span class="kw-2">&amp;</span>str) -&gt; bool {
        <span class="kw">if let </span><span class="prelude-val">Some</span>(csrf2) = <span class="kw-2">&amp;</span><span class="self">self</span>.csrf {
            csrf2.secret() == csrf
        } <span class="kw">else </span>{
            <span class="bool-val">false
        </span>}
    }

    <span class="doccomment">/// Generate the code with the help of the hash.
    ///
    /// You can skip this method and instead use the token in the hash directly with [`UserToken::from_existing()`], but it&#39;s provided here for convenience.
    ///
    /// Step 3. and 4. in the [guide](https://dev.twitch.tv/docs/authentication/getting-tokens-oauth/#oauth-implicit-code-flow)
    ///
    /// # Example
    ///
    /// When the user authenticates, they are sent to `&lt;redirecturl&gt;#access_token=&lt;access_token&gt;&amp;scope=&lt;scopes, space (%20) separated&gt;&amp;state=&lt;csrf state&gt;&amp;token_type=bearer`
    ///
    /// On failure, they are sent to
    ///
    /// `&lt;redirect_url or first defined url in dev console&gt;?error=&lt;error type&gt;&amp;error_description=&lt;error description&gt;&amp;state=&lt;csrf state&gt;`
    /// Get the hash of the url with javascript.
    ///
    /// ```js
    /// document.location.hash.substr(1);
    /// ```
    ///
    /// and send it to your client in what ever way convenient.
    ///
    /// Provided below is an example of how to do it, no guarantees on the safety of this method.
    ///
    /// ```html
    /// &lt;!DOCTYPE html&gt;
    /// &lt;html&gt;
    /// &lt;head&gt;
    /// &lt;title&gt;Authorization&lt;/title&gt;
    /// &lt;meta name=&quot;ROBOTS&quot; content=&quot;NOFOLLOW&quot;&gt;
    /// &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot;&gt;
    /// &lt;script type=&quot;text/javascript&quot;&gt;
    /// &lt;!--
    /// function initiate() {
    ///     var hash = document.location.hash.substr(1);
    ///     document.getElementById(&quot;javascript&quot;).className = &quot;&quot;;
    ///     if (hash != null) {
    ///             document.location.replace(&quot;/token?&quot;+hash);
    ///     }
    ///     else {
    ///         document.getElementById(&quot;javascript&quot;).innerHTML = &quot;Error: Access Token not found&quot;;
    ///     }
    /// }
    /// --&gt;
    /// &lt;/script&gt;
    /// &lt;style type=&quot;text/css&quot;&gt;
    ///     body { text-align: center; background-color: #FFF; max-width: 500px; margin: auto; }
    ///     noscript { color: red;  }
    ///     .hide { display: none; }
    /// &lt;/style&gt;
    /// &lt;/head&gt;
    /// &lt;body onload=&quot;initiate()&quot;&gt;
    /// &lt;h1&gt;Authorization&lt;/h1&gt;
    /// &lt;noscript&gt;
    ///     &lt;p&gt;This page requires &lt;strong&gt;JavaScript&lt;/strong&gt; to get your token.
    /// &lt;/noscript&gt;
    /// &lt;p id=&quot;javascript&quot; class=&quot;hide&quot;&gt;
    /// You should be redirected..
    /// &lt;/p&gt;
    /// &lt;/body&gt;
    /// &lt;/html&gt;
    /// ```
    ///
    /// where `/token?` gives this function it&#39;s corresponding arguments in query params
    ///
    /// Make sure that `/token` removes the query from the history.
    ///
    /// ```html
    /// &lt;!DOCTYPE html&gt;
    /// &lt;html&gt;
    /// &lt;head&gt;
    /// &lt;title&gt;Authorization Successful&lt;/title&gt;
    /// &lt;meta name=&quot;ROBOTS&quot; content=&quot;NOFOLLOW&quot;&gt;
    /// &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot;&gt;
    /// &lt;script type=&quot;text/javascript&quot;&gt;
    /// &lt;!--
    /// function initiate() {
    ///     //
    ///     document.location.replace(&quot;/token_retrieved);
    /// }
    /// --&gt;
    /// &lt;/script&gt;
    /// &lt;style type=&quot;text/css&quot;&gt;
    ///     body { text-align: center; background-color: #FFF; max-width: 500px; margin: auto; }
    /// &lt;/style&gt;
    /// &lt;/head&gt;
    /// &lt;body onload=&quot;initiate()&quot;&gt;
    /// &lt;h1&gt;Authorization Successful&lt;/h1&gt;
    /// &lt;/body&gt;
    /// &lt;/html&gt;
    /// ```
    ///
    ///
    </span><span class="attr">#[cfg(feature = <span class="string">&quot;client&quot;</span>)]
    </span><span class="kw">pub async fn </span>get_user_token&lt;<span class="lifetime">&#39;a</span>, C&gt;(
        <span class="self">self</span>,
        http_client: <span class="kw-2">&amp;</span><span class="lifetime">&#39;a </span>C,
        state: <span class="prelude-ty">Option</span>&lt;<span class="kw-2">&amp;</span>str&gt;,
        access_token: <span class="prelude-ty">Option</span>&lt;<span class="kw-2">&amp;</span>str&gt;,
        error: <span class="prelude-ty">Option</span>&lt;<span class="kw-2">&amp;</span>str&gt;,
        error_description: <span class="prelude-ty">Option</span>&lt;<span class="kw-2">&amp;</span>str&gt;,
    ) -&gt; <span class="prelude-ty">Result</span>&lt;UserToken, ImplicitUserTokenExchangeError&lt;&lt;C <span class="kw">as </span>Client&gt;::Error&gt;&gt;
    <span class="kw">where
        </span>C: Client,
    {
        <span class="kw">if </span>!state.map(|s| <span class="self">self</span>.csrf_is_valid(s)).unwrap_or_default() {
            <span class="kw">return </span><span class="prelude-val">Err</span>(ImplicitUserTokenExchangeError::StateMismatch);
        }

        <span class="kw">match </span>(access_token, error, error_description) {
            (<span class="prelude-val">Some</span>(access_token), <span class="prelude-val">None</span>, <span class="prelude-val">None</span>) =&gt; <span class="highlight">UserToken::from_existing</span>(
                http_client,
                <span class="kw">crate</span>::types::AccessToken::from(access_token),
                <span class="prelude-val">None</span>,
                <span class="prelude-val">None</span>,
            )
            .<span class="kw">await
            </span>.map_err(Into::into),
            (<span class="kw">_</span>, error, description) =&gt; {
                <span class="kw">let </span>(error, description) = (
                    error.map(|s| s.to_string()),
                    description.map(|s| s.to_string()),
                );
                <span class="prelude-val">Err</span>(ImplicitUserTokenExchangeError::TwitchError { error, description })
            }
        }
    }</code></pre></div>
</div></div></div></details><details class="rustdoc-toggle method-toggle" open><summary><section id="method.from_existing_unchecked" class="method has-srclink"><a class="srclink rightside" href="../../src/twitch_oauth2/tokens/user_token.rs.html#99-124">source</a><h4 class="code-header">pub fn <a href="#method.from_existing_unchecked" class="fn">from_existing_unchecked</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;access_token: impl <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.Into.html" title="trait core::convert::Into">Into</a>&lt;<a class="struct" href="../types/struct.AccessToken.html" title="struct twitch_oauth2::types::AccessToken">AccessToken</a>&gt;,<br>&nbsp;&nbsp;&nbsp;&nbsp;refresh_token: impl <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.Into.html" title="trait core::convert::Into">Into</a>&lt;<a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="struct" href="../types/struct.RefreshToken.html" title="struct twitch_oauth2::types::RefreshToken">RefreshToken</a>&gt;&gt;,<br>&nbsp;&nbsp;&nbsp;&nbsp;client_id: impl <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.Into.html" title="trait core::convert::Into">Into</a>&lt;<a class="struct" href="../types/struct.ClientId.html" title="struct twitch_oauth2::types::ClientId">ClientId</a>&gt;,<br>&nbsp;&nbsp;&nbsp;&nbsp;client_secret: impl <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.Into.html" title="trait core::convert::Into">Into</a>&lt;<a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="struct" href="../types/struct.ClientSecret.html" title="struct twitch_oauth2::types::ClientSecret">ClientSecret</a>&gt;&gt;,<br>&nbsp;&nbsp;&nbsp;&nbsp;login: UserName,<br>&nbsp;&nbsp;&nbsp;&nbsp;user_id: UserId,<br>&nbsp;&nbsp;&nbsp;&nbsp;scopes: <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="struct" href="https://doc.rust-lang.org/nightly/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="enum" href="../enum.Scope.html" title="enum twitch_oauth2::Scope">Scope</a>&gt;&gt;,<br>&nbsp;&nbsp;&nbsp;&nbsp;expires_in: <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="struct" href="https://doc.rust-lang.org/nightly/core/time/struct.Duration.html" title="struct core::time::Duration">Duration</a>&gt;<br>) -&gt; <a class="struct" href="struct.UserToken.html" title="struct twitch_oauth2::tokens::UserToken">UserToken</a></h4></section></summary><div class="docblock"><p>Assemble token without checks.</p>
<p>If <code>expires_in</code> is <code>None</code>, we’ll assume <code>token.is_elapsed</code> is always false</p>
</div><div class="docblock scraped-example-list"><span></span><h5 id="scraped-examples-2"><a href="#scraped-examples-2">Examples found in repository</a><a class="scrape-help" href="../../scrape-examples-help.html">?</a></h5><div class="scraped-example " data-locs="[[[6,15],&quot;../../src/twitch_oauth2/tokens/user_token.rs.html#65-74&quot;,&quot;lines 65-74&quot;]]"><div class="scraped-example-title">src/tokens/user_token.rs (<a href="../../src/twitch_oauth2/tokens/user_token.rs.html#65-74">lines 65-74</a>)</div><div class="code-wrapper"><div class="example-wrap"><pre class="src-line-numbers"><span>59</span>
<span>60</span>
<span>61</span>
<span>62</span>
<span>63</span>
<span>64</span>
<span>65</span>
<span>66</span>
<span>67</span>
<span>68</span>
<span>69</span>
<span>70</span>
<span>71</span>
<span>72</span>
<span>73</span>
<span>74</span>
<span>75</span>
</pre><pre class="rust"><code><button class="expand">&varr;</button>    <span class="kw">pub fn </span>new(
        access_token: AccessToken,
        refresh_token: <span class="prelude-ty">Option</span>&lt;RefreshToken&gt;,
        validated: ValidatedToken,
        client_secret: <span class="kw">impl </span>Into&lt;<span class="prelude-ty">Option</span>&lt;ClientSecret&gt;&gt;,
    ) -&gt; <span class="prelude-ty">Result</span>&lt;UserToken, ValidationError&lt;std::convert::Infallible&gt;&gt; {
        <span class="prelude-val">Ok</span>(<span class="highlight focus">UserToken::from_existing_unchecked</span>(
            access_token,
            refresh_token,
            validated.client_id,
            client_secret,
            validated.login.ok_or(ValidationError::NoLogin)<span class="question-mark">?</span>,
            validated.user_id.ok_or(ValidationError::NoLogin)<span class="question-mark">?</span>,
            validated.scopes,
            validated.expires_in,
        ))
    }</code></pre></div>
</div></div></div></details><details class="rustdoc-toggle method-toggle" open><summary><section id="method.from_response" class="method has-srclink"><a class="srclink rightside" href="../../src/twitch_oauth2/tokens/user_token.rs.html#127-138">source</a><h4 class="code-header">pub fn <a href="#method.from_response" class="fn">from_response</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;response: <a class="struct" href="../id/struct.TwitchTokenResponse.html" title="struct twitch_oauth2::id::TwitchTokenResponse">TwitchTokenResponse</a>,<br>&nbsp;&nbsp;&nbsp;&nbsp;validated: <a class="struct" href="../struct.ValidatedToken.html" title="struct twitch_oauth2::ValidatedToken">ValidatedToken</a>,<br>&nbsp;&nbsp;&nbsp;&nbsp;client_secret: impl <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.Into.html" title="trait core::convert::Into">Into</a>&lt;<a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="struct" href="../types/struct.ClientSecret.html" title="struct twitch_oauth2::types::ClientSecret">ClientSecret</a>&gt;&gt;<br>) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="struct" href="struct.UserToken.html" title="struct twitch_oauth2::tokens::UserToken">UserToken</a>, <a class="enum" href="errors/enum.ValidationError.html" title="enum twitch_oauth2::tokens::errors::ValidationError">ValidationError</a>&lt;<a class="enum" href="https://doc.rust-lang.org/nightly/core/convert/enum.Infallible.html" title="enum core::convert::Infallible">Infallible</a>&gt;&gt;</h4></section></summary><div class="docblock"><p>Assemble token from twitch responses.</p>
</div><div class="docblock scraped-example-list"><span></span><h5 id="scraped-examples-3"><a href="#scraped-examples-3">Examples found in repository</a><a class="scrape-help" href="../../scrape-examples-help.html">?</a></h5><div class="scraped-example " data-locs="[[[24,24],&quot;../../src/twitch_oauth2/tokens/user_token.rs.html#462&quot;,&quot;line 462&quot;]]"><div class="scraped-example-title">src/tokens/user_token.rs (<a href="../../src/twitch_oauth2/tokens/user_token.rs.html#462">line 462</a>)</div><div class="code-wrapper"><div class="example-wrap"><pre class="src-line-numbers"><span>438</span>
<span>439</span>
<span>440</span>
<span>441</span>
<span>442</span>
<span>443</span>
<span>444</span>
<span>445</span>
<span>446</span>
<span>447</span>
<span>448</span>
<span>449</span>
<span>450</span>
<span>451</span>
<span>452</span>
<span>453</span>
<span>454</span>
<span>455</span>
<span>456</span>
<span>457</span>
<span>458</span>
<span>459</span>
<span>460</span>
<span>461</span>
<span>462</span>
<span>463</span>
<span>464</span>
</pre><pre class="rust"><code><button class="expand">&varr;</button>    <span class="kw">pub async fn </span>get_user_token&lt;<span class="lifetime">&#39;a</span>, C&gt;(
        <span class="self">self</span>,
        http_client: <span class="kw-2">&amp;</span><span class="lifetime">&#39;a </span>C,
        state: <span class="kw-2">&amp;</span>str,
        <span class="comment">// TODO: Should be either str or AuthorizationCode
        </span>code: <span class="kw-2">&amp;</span>str,
    ) -&gt; <span class="prelude-ty">Result</span>&lt;UserToken, UserTokenExchangeError&lt;&lt;C <span class="kw">as </span>Client&gt;::Error&gt;&gt;
    <span class="kw">where
        </span>C: Client,
    {
        <span class="kw">if </span>!<span class="self">self</span>.csrf_is_valid(state) {
            <span class="kw">return </span><span class="prelude-val">Err</span>(UserTokenExchangeError::StateMismatch);
        }

        <span class="kw">let </span>req = <span class="self">self</span>.get_user_token_request(code);

        <span class="kw">let </span>resp = http_client
            .req(req)
            .<span class="kw">await
            </span>.map_err(UserTokenExchangeError::RequestError)<span class="question-mark">?</span>;

        <span class="kw">let </span>response = <span class="kw">crate</span>::id::TwitchTokenResponse::from_response(<span class="kw-2">&amp;</span>resp)<span class="question-mark">?</span>;
        <span class="kw">let </span>validated = response.access_token.validate_token(http_client).<span class="kw">await</span><span class="question-mark">?</span>;

        <span class="highlight focus">UserToken::from_response</span>(response, validated, <span class="self">self</span>.client_secret)
            .map_err(|v| v.into_other().into())
    }</code></pre></div>
</div></div></div></details><details class="rustdoc-toggle method-toggle" open><summary><section id="method.builder" class="method has-srclink"><a class="srclink rightside" href="../../src/twitch_oauth2/tokens/user_token.rs.html#147-154">source</a><h4 class="code-header">pub fn <a href="#method.builder" class="fn">builder</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;client_id: <a class="struct" href="../types/struct.ClientId.html" title="struct twitch_oauth2::types::ClientId">ClientId</a>,<br>&nbsp;&nbsp;&nbsp;&nbsp;client_secret: <a class="struct" href="../types/struct.ClientSecret.html" title="struct twitch_oauth2::types::ClientSecret">ClientSecret</a>,<br>&nbsp;&nbsp;&nbsp;&nbsp;redirect_url: <a class="struct" href="https://docs.rs/url/2.3.1/url/struct.Url.html" title="struct url::Url">Url</a><br>) -&gt; <a class="struct" href="struct.UserTokenBuilder.html" title="struct twitch_oauth2::tokens::UserTokenBuilder">UserTokenBuilder</a></h4></section></summary><div class="docblock"><p>Create a <a href="struct.UserTokenBuilder.html" title="UserTokenBuilder"><code>UserTokenBuilder</code></a> to get a token with the <a href="https://dev.twitch.tv/docs/authentication/getting-tokens-oauth/#oauth-authorization-code-flow">OAuth Authorization Code</a></p>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><section id="method.mock_token" class="method has-srclink"><a class="srclink rightside" href="../../src/twitch_oauth2/tokens/user_token.rs.html#176-220">source</a><h4 class="code-header">pub async fn <a href="#method.mock_token" class="fn">mock_token</a>&lt;'a, C&gt;(<br>&nbsp;&nbsp;&nbsp;&nbsp;http_client: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;'a </a>C,<br>&nbsp;&nbsp;&nbsp;&nbsp;client_id: <a class="struct" href="../types/struct.ClientId.html" title="struct twitch_oauth2::types::ClientId">ClientId</a>,<br>&nbsp;&nbsp;&nbsp;&nbsp;client_secret: <a class="struct" href="../types/struct.ClientSecret.html" title="struct twitch_oauth2::types::ClientSecret">ClientSecret</a>,<br>&nbsp;&nbsp;&nbsp;&nbsp;user_id: impl <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.AsRef.html" title="trait core::convert::AsRef">AsRef</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.str.html">str</a>&gt;,<br>&nbsp;&nbsp;&nbsp;&nbsp;scopes: <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="enum" href="../enum.Scope.html" title="enum twitch_oauth2::Scope">Scope</a>&gt;<br>) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="struct" href="struct.UserToken.html" title="struct twitch_oauth2::tokens::UserToken">UserToken</a>, <a class="enum" href="errors/enum.UserTokenExchangeError.html" title="enum twitch_oauth2::tokens::errors::UserTokenExchangeError">UserTokenExchangeError</a>&lt;&lt;C as <a class="trait" href="../client/trait.Client.html" title="trait twitch_oauth2::client::Client">Client</a>&gt;::<a class="associatedtype" href="../client/trait.Client.html#associatedtype.Error" title="type twitch_oauth2::client::Client::Error">Error</a>&gt;&gt;<span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;C: <a class="trait" href="../client/trait.Client.html" title="trait twitch_oauth2::client::Client">Client</a>,</span></h4></section><span class="item-info"><div class="stab portability">Available on <strong>crate features <code>mock_api</code> and <code>client</code></strong> only.</div></span></summary><div class="docblock"><p>Generate a user token from <a href="https://github.com/twitchdev/twitch-cli/blob/main/docs/mock-api.md#auth-namespace">mock-api</a></p>
<h5 id="examples"><a href="#examples">Examples</a></h5>
<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">let </span>token = twitch_oauth2::UserToken::mock_token(
    <span class="kw-2">&amp;</span>reqwest::Client::builder()
        .redirect(reqwest::redirect::Policy::none())
        .build()<span class="question-mark">?</span>,
    <span class="string">&quot;mockclientid&quot;</span>.into(),
    <span class="string">&quot;mockclientsecret&quot;</span>.into(),
    <span class="string">&quot;user_id&quot;</span>,
    <span class="macro">vec!</span>[],
    ).<span class="kw">await</span><span class="question-mark">?</span>;</code></pre></div>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><section id="method.set_secret" class="method has-srclink"><a class="srclink rightside" href="../../src/twitch_oauth2/tokens/user_token.rs.html#223">source</a><h4 class="code-header">pub fn <a href="#method.set_secret" class="fn">set_secret</a>(&amp;mut self, secret: <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="struct" href="../types/struct.ClientSecret.html" title="struct twitch_oauth2::types::ClientSecret">ClientSecret</a>&gt;)</h4></section></summary><div class="docblock"><p>Set the client secret</p>
</div></details></div></details></div><h2 id="trait-implementations" class="small-section-header">Trait Implementations<a href="#trait-implementations" class="anchor">§</a></h2><div id="trait-implementations-list"><details class="rustdoc-toggle implementors-toggle" open><summary><section id="impl-Clone-for-UserToken" class="impl has-srclink"><a class="srclink rightside" href="../../src/twitch_oauth2/tokens/user_token.rs.html#19">source</a><a href="#impl-Clone-for-UserToken" class="anchor">§</a><h3 class="code-header">impl <a class="trait" href="https://doc.rust-lang.org/nightly/core/clone/trait.Clone.html" title="trait core::clone::Clone">Clone</a> for <a class="struct" href="struct.UserToken.html" title="struct twitch_oauth2::tokens::UserToken">UserToken</a></h3></section></summary><div class="impl-items"><details class="rustdoc-toggle method-toggle" open><summary><section id="method.clone" class="method trait-impl has-srclink"><a class="srclink rightside" href="../../src/twitch_oauth2/tokens/user_token.rs.html#19">source</a><a href="#method.clone" class="anchor">§</a><h4 class="code-header">fn <a href="https://doc.rust-lang.org/nightly/core/clone/trait.Clone.html#tymethod.clone" class="fn">clone</a>(&amp;self) -&gt; <a class="struct" href="struct.UserToken.html" title="struct twitch_oauth2::tokens::UserToken">UserToken</a></h4></section></summary><div class='docblock'>Returns a copy of the value. <a href="https://doc.rust-lang.org/nightly/core/clone/trait.Clone.html#tymethod.clone">Read more</a></div></details><details class="rustdoc-toggle method-toggle" open><summary><section id="method.clone_from" class="method trait-impl has-srclink"><span class="rightside"><span class="since" title="Stable since Rust version 1.0.0">1.0.0</span> · <a class="srclink" href="https://doc.rust-lang.org/nightly/src/core/clone.rs.html#132-134">source</a></span><a href="#method.clone_from" class="anchor">§</a><h4 class="code-header">fn <a href="https://doc.rust-lang.org/nightly/core/clone/trait.Clone.html#method.clone_from" class="fn">clone_from</a>(&amp;mut self, source: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;</a>Self)</h4></section></summary><div class='docblock'>Performs copy-assignment from <code>source</code>. <a href="https://doc.rust-lang.org/nightly/core/clone/trait.Clone.html#method.clone_from">Read more</a></div></details></div></details><details class="rustdoc-toggle implementors-toggle" open><summary><section id="impl-Debug-for-UserToken" class="impl has-srclink"><a class="srclink rightside" href="../../src/twitch_oauth2/tokens/user_token.rs.html#42-55">source</a><a href="#impl-Debug-for-UserToken" class="anchor">§</a><h3 class="code-header">impl <a class="trait" href="https://doc.rust-lang.org/nightly/core/fmt/trait.Debug.html" title="trait core::fmt::Debug">Debug</a> for <a class="struct" href="struct.UserToken.html" title="struct twitch_oauth2::tokens::UserToken">UserToken</a></h3></section></summary><div class="impl-items"><details class="rustdoc-toggle method-toggle" open><summary><section id="method.fmt" class="method trait-impl has-srclink"><a class="srclink rightside" href="../../src/twitch_oauth2/tokens/user_token.rs.html#43-54">source</a><a href="#method.fmt" class="anchor">§</a><h4 class="code-header">fn <a href="https://doc.rust-lang.org/nightly/core/fmt/trait.Debug.html#tymethod.fmt" class="fn">fmt</a>(&amp;self, f: &amp;mut <a class="struct" href="https://doc.rust-lang.org/nightly/core/fmt/struct.Formatter.html" title="struct core::fmt::Formatter">Formatter</a>&lt;'_&gt;) -&gt; <a class="type" href="https://doc.rust-lang.org/nightly/core/fmt/type.Result.html" title="type core::fmt::Result">Result</a></h4></section></summary><div class='docblock'>Formats the value using the given formatter. <a href="https://doc.rust-lang.org/nightly/core/fmt/trait.Debug.html#tymethod.fmt">Read more</a></div></details></div></details><details class="rustdoc-toggle implementors-toggle" open><summary><section id="impl-TwitchToken-for-UserToken" class="impl has-srclink"><a class="srclink rightside" href="../../src/twitch_oauth2/tokens/user_token.rs.html#227-278">source</a><a href="#impl-TwitchToken-for-UserToken" class="anchor">§</a><h3 class="code-header">impl <a class="trait" href="../trait.TwitchToken.html" title="trait twitch_oauth2::TwitchToken">TwitchToken</a> for <a class="struct" href="struct.UserToken.html" title="struct twitch_oauth2::tokens::UserToken">UserToken</a></h3></section></summary><div class="impl-items"><details class="rustdoc-toggle method-toggle" open><summary><section id="method.token_type" class="method trait-impl has-srclink"><a class="srclink rightside" href="../../src/twitch_oauth2/tokens/user_token.rs.html#228">source</a><a href="#method.token_type" class="anchor">§</a><h4 class="code-header">fn <a href="../trait.TwitchToken.html#tymethod.token_type" class="fn">token_type</a>() -&gt; <a class="enum" href="enum.BearerTokenType.html" title="enum twitch_oauth2::tokens::BearerTokenType">BearerTokenType</a></h4></section></summary><div class='docblock'>Get the type of token.</div></details><details class="rustdoc-toggle method-toggle" open><summary><section id="method.client_id" class="method trait-impl has-srclink"><a class="srclink rightside" href="../../src/twitch_oauth2/tokens/user_token.rs.html#230">source</a><a href="#method.client_id" class="anchor">§</a><h4 class="code-header">fn <a href="../trait.TwitchToken.html#tymethod.client_id" class="fn">client_id</a>(&amp;self) -&gt; &amp;<a class="struct" href="../types/struct.ClientId.html" title="struct twitch_oauth2::types::ClientId">ClientId</a></h4></section></summary><div class='docblock'>Client ID associated with the token. Twitch requires this in all helix API calls</div></details><details class="rustdoc-toggle method-toggle" open><summary><section id="method.token" class="method trait-impl has-srclink"><a class="srclink rightside" href="../../src/twitch_oauth2/tokens/user_token.rs.html#232">source</a><a href="#method.token" class="anchor">§</a><h4 class="code-header">fn <a href="../trait.TwitchToken.html#tymethod.token" class="fn">token</a>(&amp;self) -&gt; &amp;<a class="struct" href="../types/struct.AccessToken.html" title="struct twitch_oauth2::types::AccessToken">AccessToken</a></h4></section></summary><div class='docblock'>Get the <a href="../types/struct.AccessToken.html" title="AccessToken">AccessToken</a> for authenticating <a href="../trait.TwitchToken.html#tymethod.token">Read more</a></div></details><details class="rustdoc-toggle method-toggle" open><summary><section id="method.login" class="method trait-impl has-srclink"><a class="srclink rightside" href="../../src/twitch_oauth2/tokens/user_token.rs.html#234">source</a><a href="#method.login" class="anchor">§</a><h4 class="code-header">fn <a href="../trait.TwitchToken.html#tymethod.login" class="fn">login</a>(&amp;self) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;&amp;UserNameRef&gt;</h4></section></summary><div class='docblock'>Get the username associated to this token</div></details><details class="rustdoc-toggle method-toggle" open><summary><section id="method.user_id" class="method trait-impl has-srclink"><a class="srclink rightside" href="../../src/twitch_oauth2/tokens/user_token.rs.html#236">source</a><a href="#method.user_id" class="anchor">§</a><h4 class="code-header">fn <a href="../trait.TwitchToken.html#tymethod.user_id" class="fn">user_id</a>(&amp;self) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;&amp;UserIdRef&gt;</h4></section></summary><div class='docblock'>Get the user id associated to this token</div></details><details class="rustdoc-toggle method-toggle" open><summary><section id="method.refresh_token" class="method trait-impl has-srclink"><a class="srclink rightside" href="../../src/twitch_oauth2/tokens/user_token.rs.html#239-263">source</a><a href="#method.refresh_token" class="anchor">§</a><h4 class="code-header">fn <a href="../trait.TwitchToken.html#tymethod.refresh_token" class="fn">refresh_token</a>&lt;'a, 'life0, 'async_trait, C&gt;(<br>&nbsp;&nbsp;&nbsp;&nbsp;&amp;'life0 mut self,<br>&nbsp;&nbsp;&nbsp;&nbsp;http_client: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;'a </a>C<br>) -&gt; <a class="struct" href="https://doc.rust-lang.org/nightly/core/pin/struct.Pin.html" title="struct core::pin::Pin">Pin</a>&lt;<a class="struct" href="https://doc.rust-lang.org/nightly/alloc/boxed/struct.Box.html" title="struct alloc::boxed::Box">Box</a>&lt;dyn <a class="trait" href="https://doc.rust-lang.org/nightly/core/future/future/trait.Future.html" title="trait core::future::future::Future">Future</a>&lt;Output = <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.unit.html">()</a>, <a class="enum" href="errors/enum.RefreshTokenError.html" title="enum twitch_oauth2::tokens::errors::RefreshTokenError">RefreshTokenError</a>&lt;&lt;C as <a class="trait" href="../client/trait.Client.html" title="trait twitch_oauth2::client::Client">Client</a>&gt;::<a class="associatedtype" href="../client/trait.Client.html#associatedtype.Error" title="type twitch_oauth2::client::Client::Error">Error</a>&gt;&gt;&gt; + <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a> + 'async_trait&gt;&gt;<span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;Self: <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a> + 'async_trait,<br>&nbsp;&nbsp;&nbsp;&nbsp;C: <a class="trait" href="../client/trait.Client.html" title="trait twitch_oauth2::client::Client">Client</a> + 'async_trait,<br>&nbsp;&nbsp;&nbsp;&nbsp;'a: 'async_trait,<br>&nbsp;&nbsp;&nbsp;&nbsp;'life0: 'async_trait,</span></h4></section></summary><span class="item-info"><div class="stab portability">Available on <strong>crate feature <code>client</code></strong> only.</div></span><div class='docblock'>Refresh this token, changing the token to a newer one</div></details><details class="rustdoc-toggle method-toggle" open><summary><section id="method.expires_in" class="method trait-impl has-srclink"><a class="srclink rightside" href="../../src/twitch_oauth2/tokens/user_token.rs.html#265-275">source</a><a href="#method.expires_in" class="anchor">§</a><h4 class="code-header">fn <a href="../trait.TwitchToken.html#tymethod.expires_in" class="fn">expires_in</a>(&amp;self) -&gt; <a class="struct" href="https://doc.rust-lang.org/nightly/core/time/struct.Duration.html" title="struct core::time::Duration">Duration</a></h4></section></summary><div class='docblock'>Get current lifetime of token.</div></details><details class="rustdoc-toggle method-toggle" open><summary><section id="method.scopes" class="method trait-impl has-srclink"><a class="srclink rightside" href="../../src/twitch_oauth2/tokens/user_token.rs.html#277">source</a><a href="#method.scopes" class="anchor">§</a><h4 class="code-header">fn <a href="../trait.TwitchToken.html#tymethod.scopes" class="fn">scopes</a>(&amp;self) -&gt; &amp;[<a class="enum" href="../enum.Scope.html" title="enum twitch_oauth2::Scope">Scope</a>]</h4></section></summary><div class='docblock'>Retrieve scopes attached to the token</div></details><details class="rustdoc-toggle method-toggle" open><summary><section id="method.is_elapsed" class="method trait-impl has-srclink"><a class="srclink rightside" href="../../src/twitch_oauth2/tokens.rs.html#83-86">source</a><a href="#method.is_elapsed" class="anchor">§</a><h4 class="code-header">fn <a href="../trait.TwitchToken.html#method.is_elapsed" class="fn">is_elapsed</a>(&amp;self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.bool.html">bool</a></h4></section></summary><div class='docblock'>Returns whether or not the token is expired. <a href="../trait.TwitchToken.html#method.is_elapsed">Read more</a></div></details><details class="rustdoc-toggle method-toggle" open><summary><section id="method.validate_token" class="method trait-impl has-srclink"><a class="srclink rightside" href="../../src/twitch_oauth2/tokens.rs.html#95-105">source</a><a href="#method.validate_token" class="anchor">§</a><h4 class="code-header">fn <a href="../trait.TwitchToken.html#method.validate_token" class="fn">validate_token</a>&lt;'a, 'life0, 'async_trait, C&gt;(<br>&nbsp;&nbsp;&nbsp;&nbsp;&amp;'life0 self,<br>&nbsp;&nbsp;&nbsp;&nbsp;http_client: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;'a </a>C<br>) -&gt; <a class="struct" href="https://doc.rust-lang.org/nightly/core/pin/struct.Pin.html" title="struct core::pin::Pin">Pin</a>&lt;<a class="struct" href="https://doc.rust-lang.org/nightly/alloc/boxed/struct.Box.html" title="struct alloc::boxed::Box">Box</a>&lt;dyn <a class="trait" href="https://doc.rust-lang.org/nightly/core/future/future/trait.Future.html" title="trait core::future::future::Future">Future</a>&lt;Output = <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="struct" href="../struct.ValidatedToken.html" title="struct twitch_oauth2::ValidatedToken">ValidatedToken</a>, <a class="enum" href="errors/enum.ValidationError.html" title="enum twitch_oauth2::tokens::errors::ValidationError">ValidationError</a>&lt;&lt;C as <a class="trait" href="../client/trait.Client.html" title="trait twitch_oauth2::client::Client">Client</a>&gt;::<a class="associatedtype" href="../client/trait.Client.html#associatedtype.Error" title="type twitch_oauth2::client::Client::Error">Error</a>&gt;&gt;&gt; + <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a> + 'async_trait&gt;&gt;<span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;Self: <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a> + <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sync.html" title="trait core::marker::Sync">Sync</a> + 'async_trait,<br>&nbsp;&nbsp;&nbsp;&nbsp;C: <a class="trait" href="../client/trait.Client.html" title="trait twitch_oauth2::client::Client">Client</a> + 'async_trait,<br>&nbsp;&nbsp;&nbsp;&nbsp;'a: 'async_trait,<br>&nbsp;&nbsp;&nbsp;&nbsp;'life0: 'async_trait,</span></h4></section></summary><span class="item-info"><div class="stab portability">Available on <strong>crate feature <code>client</code></strong> only.</div></span><div class='docblock'>Validate this token. Should be checked on regularly, according to <a href="https://dev.twitch.tv/docs/authentication#validating-requests">https://dev.twitch.tv/docs/authentication#validating-requests</a> <a href="../trait.TwitchToken.html#method.validate_token">Read more</a></div></details><details class="rustdoc-toggle method-toggle" open><summary><section id="method.revoke_token" class="method trait-impl has-srclink"><a class="srclink rightside" href="../../src/twitch_oauth2/tokens.rs.html#109-120">source</a><a href="#method.revoke_token" class="anchor">§</a><h4 class="code-header">fn <a href="../trait.TwitchToken.html#method.revoke_token" class="fn">revoke_token</a>&lt;'a, 'async_trait, C&gt;(<br>&nbsp;&nbsp;&nbsp;&nbsp;self,<br>&nbsp;&nbsp;&nbsp;&nbsp;http_client: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;'a </a>C<br>) -&gt; <a class="struct" href="https://doc.rust-lang.org/nightly/core/pin/struct.Pin.html" title="struct core::pin::Pin">Pin</a>&lt;<a class="struct" href="https://doc.rust-lang.org/nightly/alloc/boxed/struct.Box.html" title="struct alloc::boxed::Box">Box</a>&lt;dyn <a class="trait" href="https://doc.rust-lang.org/nightly/core/future/future/trait.Future.html" title="trait core::future::future::Future">Future</a>&lt;Output = <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.unit.html">()</a>, <a class="enum" href="errors/enum.RevokeTokenError.html" title="enum twitch_oauth2::tokens::errors::RevokeTokenError">RevokeTokenError</a>&lt;&lt;C as <a class="trait" href="../client/trait.Client.html" title="trait twitch_oauth2::client::Client">Client</a>&gt;::<a class="associatedtype" href="../client/trait.Client.html#associatedtype.Error" title="type twitch_oauth2::client::Client::Error">Error</a>&gt;&gt;&gt; + <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a> + 'async_trait&gt;&gt;<span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;Self: <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a> + <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a> + 'async_trait,<br>&nbsp;&nbsp;&nbsp;&nbsp;C: <a class="trait" href="../client/trait.Client.html" title="trait twitch_oauth2::client::Client">Client</a> + 'async_trait,<br>&nbsp;&nbsp;&nbsp;&nbsp;'a: 'async_trait,</span></h4></section></summary><span class="item-info"><div class="stab portability">Available on <strong>crate feature <code>client</code></strong> only.</div></span><div class='docblock'>Revoke the token. See <a href="https://dev.twitch.tv/docs/authentication#revoking-access-tokens">https://dev.twitch.tv/docs/authentication#revoking-access-tokens</a></div></details></div></details></div><h2 id="synthetic-implementations" class="small-section-header">Auto Trait Implementations<a href="#synthetic-implementations" class="anchor">§</a></h2><div id="synthetic-implementations-list"><section id="impl-RefUnwindSafe-for-UserToken" class="impl has-srclink"><a href="#impl-RefUnwindSafe-for-UserToken" class="anchor">§</a><h3 class="code-header">impl <a class="trait" href="https://doc.rust-lang.org/nightly/core/panic/unwind_safe/trait.RefUnwindSafe.html" title="trait core::panic::unwind_safe::RefUnwindSafe">RefUnwindSafe</a> for <a class="struct" href="struct.UserToken.html" title="struct twitch_oauth2::tokens::UserToken">UserToken</a></h3></section><section id="impl-Send-for-UserToken" class="impl has-srclink"><a href="#impl-Send-for-UserToken" class="anchor">§</a><h3 class="code-header">impl <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a> for <a class="struct" href="struct.UserToken.html" title="struct twitch_oauth2::tokens::UserToken">UserToken</a></h3></section><section id="impl-Sync-for-UserToken" class="impl has-srclink"><a href="#impl-Sync-for-UserToken" class="anchor">§</a><h3 class="code-header">impl <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sync.html" title="trait core::marker::Sync">Sync</a> for <a class="struct" href="struct.UserToken.html" title="struct twitch_oauth2::tokens::UserToken">UserToken</a></h3></section><section id="impl-Unpin-for-UserToken" class="impl has-srclink"><a href="#impl-Unpin-for-UserToken" class="anchor">§</a><h3 class="code-header">impl <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Unpin.html" title="trait core::marker::Unpin">Unpin</a> for <a class="struct" href="struct.UserToken.html" title="struct twitch_oauth2::tokens::UserToken">UserToken</a></h3></section><section id="impl-UnwindSafe-for-UserToken" class="impl has-srclink"><a href="#impl-UnwindSafe-for-UserToken" class="anchor">§</a><h3 class="code-header">impl <a class="trait" href="https://doc.rust-lang.org/nightly/core/panic/unwind_safe/trait.UnwindSafe.html" title="trait core::panic::unwind_safe::UnwindSafe">UnwindSafe</a> for <a class="struct" href="struct.UserToken.html" title="struct twitch_oauth2::tokens::UserToken">UserToken</a></h3></section></div><h2 id="blanket-implementations" class="small-section-header">Blanket Implementations<a href="#blanket-implementations" class="anchor">§</a></h2><div id="blanket-implementations-list"><details class="rustdoc-toggle implementors-toggle"><summary><section id="impl-Any-for-UserToken" class="impl has-srclink"><a class="srclink rightside" href="https://doc.rust-lang.org/nightly/src/core/any.rs.html#200">source</a><a href="#impl-Any-for-UserToken" class="anchor">§</a><h3 class="code-header">impl&lt;T&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/core/any/trait.Any.html" title="trait core::any::Any">Any</a> for T<span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;T: 'static + ?<a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a>,</span></h3></section></summary><div class="impl-items"><details class="rustdoc-toggle method-toggle" open><summary><section id="method.type_id" class="method trait-impl has-srclink"><a class="srclink rightside" href="https://doc.rust-lang.org/nightly/src/core/any.rs.html#201">source</a><a href="#method.type_id" class="anchor">§</a><h4 class="code-header">fn <a href="https://doc.rust-lang.org/nightly/core/any/trait.Any.html#tymethod.type_id" class="fn">type_id</a>(&amp;self) -&gt; <a class="struct" href="https://doc.rust-lang.org/nightly/core/any/struct.TypeId.html" title="struct core::any::TypeId">TypeId</a></h4></section></summary><div class='docblock'>Gets the <code>TypeId</code> of <code>self</code>. <a href="https://doc.rust-lang.org/nightly/core/any/trait.Any.html#tymethod.type_id">Read more</a></div></details></div></details><details class="rustdoc-toggle implementors-toggle"><summary><section id="impl-Borrow%3CT%3E-for-UserToken" class="impl has-srclink"><a class="srclink rightside" href="https://doc.rust-lang.org/nightly/src/core/borrow.rs.html#211">source</a><a href="#impl-Borrow%3CT%3E-for-UserToken" class="anchor">§</a><h3 class="code-header">impl&lt;T&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/core/borrow/trait.Borrow.html" title="trait core::borrow::Borrow">Borrow</a>&lt;T&gt; for T<span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;T: ?<a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a>,</span></h3></section></summary><div class="impl-items"><details class="rustdoc-toggle method-toggle" open><summary><section id="method.borrow" class="method trait-impl has-srclink"><span class="rightside"><span class="since" title="const unstable">const: <a href="https://github.com/rust-lang/rust/issues/91522" title="Tracking issue for const_borrow">unstable</a></span> · <a class="srclink" href="https://doc.rust-lang.org/nightly/src/core/borrow.rs.html#213">source</a></span><a href="#method.borrow" class="anchor">§</a><h4 class="code-header">fn <a href="https://doc.rust-lang.org/nightly/core/borrow/trait.Borrow.html#tymethod.borrow" class="fn">borrow</a>(&amp;self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;</a>T</h4></section></summary><div class='docblock'>Immutably borrows from an owned value. <a href="https://doc.rust-lang.org/nightly/core/borrow/trait.Borrow.html#tymethod.borrow">Read more</a></div></details></div></details><details class="rustdoc-toggle implementors-toggle"><summary><section id="impl-BorrowMut%3CT%3E-for-UserToken" class="impl has-srclink"><a class="srclink rightside" href="https://doc.rust-lang.org/nightly/src/core/borrow.rs.html#220">source</a><a href="#impl-BorrowMut%3CT%3E-for-UserToken" class="anchor">§</a><h3 class="code-header">impl&lt;T&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/core/borrow/trait.BorrowMut.html" title="trait core::borrow::BorrowMut">BorrowMut</a>&lt;T&gt; for T<span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;T: ?<a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a>,</span></h3></section></summary><div class="impl-items"><details class="rustdoc-toggle method-toggle" open><summary><section id="method.borrow_mut" class="method trait-impl has-srclink"><span class="rightside"><span class="since" title="const unstable">const: <a href="https://github.com/rust-lang/rust/issues/91522" title="Tracking issue for const_borrow">unstable</a></span> · <a class="srclink" href="https://doc.rust-lang.org/nightly/src/core/borrow.rs.html#221">source</a></span><a href="#method.borrow_mut" class="anchor">§</a><h4 class="code-header">fn <a href="https://doc.rust-lang.org/nightly/core/borrow/trait.BorrowMut.html#tymethod.borrow_mut" class="fn">borrow_mut</a>(&amp;mut self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;mut </a>T</h4></section></summary><div class='docblock'>Mutably borrows from an owned value. <a href="https://doc.rust-lang.org/nightly/core/borrow/trait.BorrowMut.html#tymethod.borrow_mut">Read more</a></div></details></div></details><details class="rustdoc-toggle implementors-toggle"><summary><section id="impl-From%3CT%3E-for-UserToken" class="impl has-srclink"><a class="srclink rightside" href="https://doc.rust-lang.org/nightly/src/core/convert/mod.rs.html#733">source</a><a href="#impl-From%3CT%3E-for-UserToken" class="anchor">§</a><h3 class="code-header">impl&lt;T&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.From.html" title="trait core::convert::From">From</a>&lt;T&gt; for T</h3></section></summary><div class="impl-items"><details class="rustdoc-toggle method-toggle" open><summary><section id="method.from" class="method trait-impl has-srclink"><span class="rightside"><span class="since" title="const unstable">const: <a href="https://github.com/rust-lang/rust/issues/88674" title="Tracking issue for const_convert">unstable</a></span> · <a class="srclink" href="https://doc.rust-lang.org/nightly/src/core/convert/mod.rs.html#736">source</a></span><a href="#method.from" class="anchor">§</a><h4 class="code-header">fn <a href="https://doc.rust-lang.org/nightly/core/convert/trait.From.html#tymethod.from" class="fn">from</a>(t: T) -&gt; T</h4></section></summary><div class="docblock"><p>Returns the argument unchanged.</p>
</div></details></div></details><details class="rustdoc-toggle implementors-toggle"><summary><section id="impl-Instrument-for-UserToken" class="impl has-srclink"><a class="srclink rightside" href="https://docs.rs/tracing/0.1.37/src/tracing/instrument.rs.html#276">source</a><a href="#impl-Instrument-for-UserToken" class="anchor">§</a><h3 class="code-header">impl&lt;T&gt; <a class="trait" href="https://docs.rs/tracing/0.1.37/tracing/instrument/trait.Instrument.html" title="trait tracing::instrument::Instrument">Instrument</a> for T</h3></section></summary><div class="impl-items"><details class="rustdoc-toggle method-toggle" open><summary><section id="method.instrument" class="method trait-impl has-srclink"><a class="srclink rightside" href="https://docs.rs/tracing/0.1.37/src/tracing/instrument.rs.html#82">source</a><a href="#method.instrument" class="anchor">§</a><h4 class="code-header">fn <a href="https://docs.rs/tracing/0.1.37/tracing/instrument/trait.Instrument.html#method.instrument" class="fn">instrument</a>(self, span: <a class="struct" href="https://docs.rs/tracing/0.1.37/tracing/span/struct.Span.html" title="struct tracing::span::Span">Span</a>) -&gt; <a class="struct" href="https://docs.rs/tracing/0.1.37/tracing/instrument/struct.Instrumented.html" title="struct tracing::instrument::Instrumented">Instrumented</a>&lt;Self&gt;</h4></section></summary><div class='docblock'>Instruments this type with the provided <a href="https://docs.rs/tracing/0.1.37/tracing/span/struct.Span.html" title="Span"><code>Span</code></a>, returning an
<code>Instrumented</code> wrapper. <a href="https://docs.rs/tracing/0.1.37/tracing/instrument/trait.Instrument.html#method.instrument">Read more</a></div></details><details class="rustdoc-toggle method-toggle" open><summary><section id="method.in_current_span" class="method trait-impl has-srclink"><a class="srclink rightside" href="https://docs.rs/tracing/0.1.37/src/tracing/instrument.rs.html#121">source</a><a href="#method.in_current_span" class="anchor">§</a><h4 class="code-header">fn <a href="https://docs.rs/tracing/0.1.37/tracing/instrument/trait.Instrument.html#method.in_current_span" class="fn">in_current_span</a>(self) -&gt; <a class="struct" href="https://docs.rs/tracing/0.1.37/tracing/instrument/struct.Instrumented.html" title="struct tracing::instrument::Instrumented">Instrumented</a>&lt;Self&gt;</h4></section></summary><div class='docblock'>Instruments this type with the <a href="https://docs.rs/tracing/0.1.37/tracing/span/struct.Span.html#method.current">current</a> <a href="https://docs.rs/tracing/0.1.37/tracing/span/struct.Span.html"><code>Span</code></a>, returning an
<code>Instrumented</code> wrapper. <a href="https://docs.rs/tracing/0.1.37/tracing/instrument/trait.Instrument.html#method.in_current_span">Read more</a></div></details></div></details><details class="rustdoc-toggle implementors-toggle"><summary><section id="impl-Instrument-for-UserToken-1" class="impl has-srclink"><a class="srclink rightside" href="https://docs.rs/tracing-futures/0.2.5/src/tracing_futures/lib.rs.html#273">source</a><a href="#impl-Instrument-for-UserToken-1" class="anchor">§</a><h3 class="code-header">impl&lt;T&gt; <a class="trait" href="https://docs.rs/tracing-futures/0.2.5/tracing_futures/trait.Instrument.html" title="trait tracing_futures::Instrument">Instrument</a> for T</h3></section></summary><div class="impl-items"><details class="rustdoc-toggle method-toggle" open><summary><section id="method.instrument-1" class="method trait-impl has-srclink"><a class="srclink rightside" href="https://docs.rs/tracing-futures/0.2.5/src/tracing_futures/lib.rs.html#154">source</a><a href="#method.instrument-1" class="anchor">§</a><h4 class="code-header">fn <a href="https://docs.rs/tracing-futures/0.2.5/tracing_futures/trait.Instrument.html#method.instrument" class="fn">instrument</a>(self, span: <a class="struct" href="https://docs.rs/tracing/0.1.37/tracing/span/struct.Span.html" title="struct tracing::span::Span">Span</a>) -&gt; <a class="struct" href="https://docs.rs/tracing-futures/0.2.5/tracing_futures/struct.Instrumented.html" title="struct tracing_futures::Instrumented">Instrumented</a>&lt;Self&gt;</h4></section></summary><div class='docblock'>Instruments this type with the provided <code>Span</code>, returning an
<code>Instrumented</code> wrapper. <a href="https://docs.rs/tracing-futures/0.2.5/tracing_futures/trait.Instrument.html#method.instrument">Read more</a></div></details><details class="rustdoc-toggle method-toggle" open><summary><section id="method.in_current_span-1" class="method trait-impl has-srclink"><a class="srclink rightside" href="https://docs.rs/tracing-futures/0.2.5/src/tracing_futures/lib.rs.html#191">source</a><a href="#method.in_current_span-1" class="anchor">§</a><h4 class="code-header">fn <a href="https://docs.rs/tracing-futures/0.2.5/tracing_futures/trait.Instrument.html#method.in_current_span" class="fn">in_current_span</a>(self) -&gt; <a class="struct" href="https://docs.rs/tracing-futures/0.2.5/tracing_futures/struct.Instrumented.html" title="struct tracing_futures::Instrumented">Instrumented</a>&lt;Self&gt;</h4></section></summary><div class='docblock'>Instruments this type with the <a href="https://docs.rs/tracing/latest/tracing/span/struct.Span.html#method.current">current</a> <code>Span</code>, returning an
<code>Instrumented</code> wrapper. <a href="https://docs.rs/tracing-futures/0.2.5/tracing_futures/trait.Instrument.html#method.in_current_span">Read more</a></div></details></div></details><details class="rustdoc-toggle implementors-toggle"><summary><section id="impl-Into%3CU%3E-for-UserToken" class="impl has-srclink"><a class="srclink rightside" href="https://doc.rust-lang.org/nightly/src/core/convert/mod.rs.html#717">source</a><a href="#impl-Into%3CU%3E-for-UserToken" class="anchor">§</a><h3 class="code-header">impl&lt;T, U&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.Into.html" title="trait core::convert::Into">Into</a>&lt;U&gt; for T<span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;U: <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.From.html" title="trait core::convert::From">From</a>&lt;T&gt;,</span></h3></section></summary><div class="impl-items"><details class="rustdoc-toggle method-toggle" open><summary><section id="method.into" class="method trait-impl has-srclink"><span class="rightside"><span class="since" title="const unstable">const: <a href="https://github.com/rust-lang/rust/issues/88674" title="Tracking issue for const_convert">unstable</a></span> · <a class="srclink" href="https://doc.rust-lang.org/nightly/src/core/convert/mod.rs.html#725">source</a></span><a href="#method.into" class="anchor">§</a><h4 class="code-header">fn <a href="https://doc.rust-lang.org/nightly/core/convert/trait.Into.html#tymethod.into" class="fn">into</a>(self) -&gt; U</h4></section></summary><div class="docblock"><p>Calls <code>U::from(self)</code>.</p>
<p>That is, this conversion is whatever the implementation of
<code><a href="https://doc.rust-lang.org/nightly/core/convert/trait.From.html" title="From">From</a>&lt;T&gt; for U</code> chooses to do.</p>
</div></details></div></details><details class="rustdoc-toggle implementors-toggle"><summary><section id="impl-Same%3CT%3E-for-UserToken" class="impl has-srclink"><a class="srclink rightside" href="https://docs.rs/typenum/1.15.0/src/typenum/type_operators.rs.html#34">source</a><a href="#impl-Same%3CT%3E-for-UserToken" class="anchor">§</a><h3 class="code-header">impl&lt;T&gt; <a class="trait" href="https://docs.rs/typenum/1.15.0/typenum/type_operators/trait.Same.html" title="trait typenum::type_operators::Same">Same</a>&lt;T&gt; for T</h3></section></summary><div class="impl-items"><details class="rustdoc-toggle" open><summary><section id="associatedtype.Output" class="associatedtype trait-impl has-srclink"><a href="#associatedtype.Output" class="anchor">§</a><h4 class="code-header">type <a href="https://docs.rs/typenum/1.15.0/typenum/type_operators/trait.Same.html#associatedtype.Output" class="associatedtype">Output</a> = T</h4></section></summary><div class='docblock'>Should always be <code>Self</code></div></details></div></details><details class="rustdoc-toggle implementors-toggle"><summary><section id="impl-ToOwned-for-UserToken" class="impl has-srclink"><a class="srclink rightside" href="https://doc.rust-lang.org/nightly/src/alloc/borrow.rs.html#82">source</a><a href="#impl-ToOwned-for-UserToken" class="anchor">§</a><h3 class="code-header">impl&lt;T&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/alloc/borrow/trait.ToOwned.html" title="trait alloc::borrow::ToOwned">ToOwned</a> for T<span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;T: <a class="trait" href="https://doc.rust-lang.org/nightly/core/clone/trait.Clone.html" title="trait core::clone::Clone">Clone</a>,</span></h3></section></summary><div class="impl-items"><details class="rustdoc-toggle" open><summary><section id="associatedtype.Owned" class="associatedtype trait-impl has-srclink"><a href="#associatedtype.Owned" class="anchor">§</a><h4 class="code-header">type <a href="https://doc.rust-lang.org/nightly/alloc/borrow/trait.ToOwned.html#associatedtype.Owned" class="associatedtype">Owned</a> = T</h4></section></summary><div class='docblock'>The resulting type after obtaining ownership.</div></details><details class="rustdoc-toggle method-toggle" open><summary><section id="method.to_owned" class="method trait-impl has-srclink"><a class="srclink rightside" href="https://doc.rust-lang.org/nightly/src/alloc/borrow.rs.html#87">source</a><a href="#method.to_owned" class="anchor">§</a><h4 class="code-header">fn <a href="https://doc.rust-lang.org/nightly/alloc/borrow/trait.ToOwned.html#tymethod.to_owned" class="fn">to_owned</a>(&amp;self) -&gt; T</h4></section></summary><div class='docblock'>Creates owned data from borrowed data, usually by cloning. <a href="https://doc.rust-lang.org/nightly/alloc/borrow/trait.ToOwned.html#tymethod.to_owned">Read more</a></div></details><details class="rustdoc-toggle method-toggle" open><summary><section id="method.clone_into" class="method trait-impl has-srclink"><a class="srclink rightside" href="https://doc.rust-lang.org/nightly/src/alloc/borrow.rs.html#91">source</a><a href="#method.clone_into" class="anchor">§</a><h4 class="code-header">fn <a href="https://doc.rust-lang.org/nightly/alloc/borrow/trait.ToOwned.html#method.clone_into" class="fn">clone_into</a>(&amp;self, target: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;mut </a>T)</h4></section></summary><div class='docblock'>Uses borrowed data to replace owned data, usually by cloning. <a href="https://doc.rust-lang.org/nightly/alloc/borrow/trait.ToOwned.html#method.clone_into">Read more</a></div></details></div></details><details class="rustdoc-toggle implementors-toggle"><summary><section id="impl-TryFrom%3CU%3E-for-UserToken" class="impl has-srclink"><a class="srclink rightside" href="https://doc.rust-lang.org/nightly/src/core/convert/mod.rs.html#775">source</a><a href="#impl-TryFrom%3CU%3E-for-UserToken" class="anchor">§</a><h3 class="code-header">impl&lt;T, U&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.TryFrom.html" title="trait core::convert::TryFrom">TryFrom</a>&lt;U&gt; for T<span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;U: <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.Into.html" title="trait core::convert::Into">Into</a>&lt;T&gt;,</span></h3></section></summary><div class="impl-items"><details class="rustdoc-toggle" open><summary><section id="associatedtype.Error" class="associatedtype trait-impl has-srclink"><a href="#associatedtype.Error" class="anchor">§</a><h4 class="code-header">type <a href="https://doc.rust-lang.org/nightly/core/convert/trait.TryFrom.html#associatedtype.Error" class="associatedtype">Error</a> = <a class="enum" href="https://doc.rust-lang.org/nightly/core/convert/enum.Infallible.html" title="enum core::convert::Infallible">Infallible</a></h4></section></summary><div class='docblock'>The type returned in the event of a conversion error.</div></details><details class="rustdoc-toggle method-toggle" open><summary><section id="method.try_from" class="method trait-impl has-srclink"><span class="rightside"><span class="since" title="const unstable">const: <a href="https://github.com/rust-lang/rust/issues/88674" title="Tracking issue for const_convert">unstable</a></span> · <a class="srclink" href="https://doc.rust-lang.org/nightly/src/core/convert/mod.rs.html#781">source</a></span><a href="#method.try_from" class="anchor">§</a><h4 class="code-header">fn <a href="https://doc.rust-lang.org/nightly/core/convert/trait.TryFrom.html#tymethod.try_from" class="fn">try_from</a>(value: U) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;T, &lt;T as <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.TryFrom.html" title="trait core::convert::TryFrom">TryFrom</a>&lt;U&gt;&gt;::<a class="associatedtype" href="https://doc.rust-lang.org/nightly/core/convert/trait.TryFrom.html#associatedtype.Error" title="type core::convert::TryFrom::Error">Error</a>&gt;</h4></section></summary><div class='docblock'>Performs the conversion.</div></details></div></details><details class="rustdoc-toggle implementors-toggle"><summary><section id="impl-TryInto%3CU%3E-for-UserToken" class="impl has-srclink"><a class="srclink rightside" href="https://doc.rust-lang.org/nightly/src/core/convert/mod.rs.html#760">source</a><a href="#impl-TryInto%3CU%3E-for-UserToken" class="anchor">§</a><h3 class="code-header">impl&lt;T, U&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.TryInto.html" title="trait core::convert::TryInto">TryInto</a>&lt;U&gt; for T<span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;U: <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.TryFrom.html" title="trait core::convert::TryFrom">TryFrom</a>&lt;T&gt;,</span></h3></section></summary><div class="impl-items"><details class="rustdoc-toggle" open><summary><section id="associatedtype.Error-1" class="associatedtype trait-impl has-srclink"><a href="#associatedtype.Error-1" class="anchor">§</a><h4 class="code-header">type <a href="https://doc.rust-lang.org/nightly/core/convert/trait.TryInto.html#associatedtype.Error" class="associatedtype">Error</a> = &lt;U as <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.TryFrom.html" title="trait core::convert::TryFrom">TryFrom</a>&lt;T&gt;&gt;::<a class="associatedtype" href="https://doc.rust-lang.org/nightly/core/convert/trait.TryFrom.html#associatedtype.Error" title="type core::convert::TryFrom::Error">Error</a></h4></section></summary><div class='docblock'>The type returned in the event of a conversion error.</div></details><details class="rustdoc-toggle method-toggle" open><summary><section id="method.try_into" class="method trait-impl has-srclink"><span class="rightside"><span class="since" title="const unstable">const: <a href="https://github.com/rust-lang/rust/issues/88674" title="Tracking issue for const_convert">unstable</a></span> · <a class="srclink" href="https://doc.rust-lang.org/nightly/src/core/convert/mod.rs.html#766">source</a></span><a href="#method.try_into" class="anchor">§</a><h4 class="code-header">fn <a href="https://doc.rust-lang.org/nightly/core/convert/trait.TryInto.html#tymethod.try_into" class="fn">try_into</a>(self) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;U, &lt;U as <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.TryFrom.html" title="trait core::convert::TryFrom">TryFrom</a>&lt;T&gt;&gt;::<a class="associatedtype" href="https://doc.rust-lang.org/nightly/core/convert/trait.TryFrom.html#associatedtype.Error" title="type core::convert::TryFrom::Error">Error</a>&gt;</h4></section></summary><div class='docblock'>Performs the conversion.</div></details></div></details><details class="rustdoc-toggle implementors-toggle"><summary><section id="impl-VZip%3CV%3E-for-UserToken" class="impl has-srclink"><a href="#impl-VZip%3CV%3E-for-UserToken" class="anchor">§</a><h3 class="code-header">impl&lt;V, T&gt; VZip&lt;V&gt; for T<span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;V: MultiLane&lt;T&gt;,</span></h3></section></summary><div class="impl-items"><section id="method.vzip" class="method trait-impl has-srclink"><a href="#method.vzip" class="anchor">§</a><h4 class="code-header">fn <a class="fn">vzip</a>(self) -&gt; V</h4></section></div></details><details class="rustdoc-toggle implementors-toggle"><summary><section id="impl-WithSubscriber-for-UserToken" class="impl has-srclink"><a class="srclink rightside" href="https://docs.rs/tracing/0.1.37/src/tracing/instrument.rs.html#334">source</a><a href="#impl-WithSubscriber-for-UserToken" class="anchor">§</a><h3 class="code-header">impl&lt;T&gt; <a class="trait" href="https://docs.rs/tracing/0.1.37/tracing/instrument/trait.WithSubscriber.html" title="trait tracing::instrument::WithSubscriber">WithSubscriber</a> for T</h3></section></summary><div class="impl-items"><details class="rustdoc-toggle method-toggle" open><summary><section id="method.with_subscriber" class="method trait-impl has-srclink"><a class="srclink rightside" href="https://docs.rs/tracing/0.1.37/src/tracing/instrument.rs.html#169-171">source</a><a href="#method.with_subscriber" class="anchor">§</a><h4 class="code-header">fn <a href="https://docs.rs/tracing/0.1.37/tracing/instrument/trait.WithSubscriber.html#method.with_subscriber" class="fn">with_subscriber</a>&lt;S&gt;(self, subscriber: S) -&gt; <a class="struct" href="https://docs.rs/tracing/0.1.37/tracing/instrument/struct.WithDispatch.html" title="struct tracing::instrument::WithDispatch">WithDispatch</a>&lt;Self&gt;<span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;S: <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.Into.html" title="trait core::convert::Into">Into</a>&lt;<a class="struct" href="https://docs.rs/tracing-core/0.1.22/tracing_core/dispatcher/struct.Dispatch.html" title="struct tracing_core::dispatcher::Dispatch">Dispatch</a>&gt;,</span></h4></section></summary><div class='docblock'>Attaches the provided <a href="https://docs.rs/tracing-core/0.1.22/tracing_core/subscriber/trait.Subscriber.html"><code>Subscriber</code></a> to this type, returning a
<a href="https://docs.rs/tracing/0.1.37/tracing/instrument/struct.WithDispatch.html" title="WithDispatch"><code>WithDispatch</code></a> wrapper. <a href="https://docs.rs/tracing/0.1.37/tracing/instrument/trait.WithSubscriber.html#method.with_subscriber">Read more</a></div></details><details class="rustdoc-toggle method-toggle" open><summary><section id="method.with_current_subscriber" class="method trait-impl has-srclink"><a class="srclink rightside" href="https://docs.rs/tracing/0.1.37/src/tracing/instrument.rs.html#221">source</a><a href="#method.with_current_subscriber" class="anchor">§</a><h4 class="code-header">fn <a href="https://docs.rs/tracing/0.1.37/tracing/instrument/trait.WithSubscriber.html#method.with_current_subscriber" class="fn">with_current_subscriber</a>(self) -&gt; <a class="struct" href="https://docs.rs/tracing/0.1.37/tracing/instrument/struct.WithDispatch.html" title="struct tracing::instrument::WithDispatch">WithDispatch</a>&lt;Self&gt;</h4></section></summary><div class='docblock'>Attaches the current <a href="https://docs.rs/tracing/0.1.37/tracing/dispatcher/index.html#setting-the-default-subscriber">default</a> <a href="https://docs.rs/tracing-core/0.1.22/tracing_core/subscriber/trait.Subscriber.html"><code>Subscriber</code></a> to this type, returning a
<a href="https://docs.rs/tracing/0.1.37/tracing/instrument/struct.WithDispatch.html" title="WithDispatch"><code>WithDispatch</code></a> wrapper. <a href="https://docs.rs/tracing/0.1.37/tracing/instrument/trait.WithSubscriber.html#method.with_current_subscriber">Read more</a></div></details></div></details><details class="rustdoc-toggle implementors-toggle"><summary><section id="impl-WithSubscriber-for-UserToken-1" class="impl has-srclink"><a class="srclink rightside" href="https://docs.rs/tracing-futures/0.2.5/src/tracing_futures/lib.rs.html#432">source</a><a href="#impl-WithSubscriber-for-UserToken-1" class="anchor">§</a><h3 class="code-header">impl&lt;T&gt; <a class="trait" href="https://docs.rs/tracing-futures/0.2.5/tracing_futures/trait.WithSubscriber.html" title="trait tracing_futures::WithSubscriber">WithSubscriber</a> for T</h3></section></summary><div class="impl-items"><details class="rustdoc-toggle method-toggle" open><summary><section id="method.with_subscriber-1" class="method trait-impl has-srclink"><a class="srclink rightside" href="https://docs.rs/tracing-futures/0.2.5/src/tracing_futures/lib.rs.html#213-215">source</a><a href="#method.with_subscriber-1" class="anchor">§</a><h4 class="code-header">fn <a href="https://docs.rs/tracing-futures/0.2.5/tracing_futures/trait.WithSubscriber.html#method.with_subscriber" class="fn">with_subscriber</a>&lt;S&gt;(self, subscriber: S) -&gt; <a class="struct" href="https://docs.rs/tracing-futures/0.2.5/tracing_futures/struct.WithDispatch.html" title="struct tracing_futures::WithDispatch">WithDispatch</a>&lt;Self&gt;<span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;S: <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.Into.html" title="trait core::convert::Into">Into</a>&lt;<a class="struct" href="https://docs.rs/tracing-core/0.1.22/tracing_core/dispatcher/struct.Dispatch.html" title="struct tracing_core::dispatcher::Dispatch">Dispatch</a>&gt;,</span></h4></section></summary><div class='docblock'>Attaches the provided <a href="https://docs.rs/tracing/latest/tracing/subscriber/trait.Subscriber.html"><code>Subscriber</code></a> to this type, returning a
<code>WithDispatch</code> wrapper. <a href="https://docs.rs/tracing-futures/0.2.5/tracing_futures/trait.WithSubscriber.html#method.with_subscriber">Read more</a></div></details><details class="rustdoc-toggle method-toggle" open><summary><section id="method.with_current_subscriber-1" class="method trait-impl has-srclink"><a class="srclink rightside" href="https://docs.rs/tracing-futures/0.2.5/src/tracing_futures/lib.rs.html#237">source</a><a href="#method.with_current_subscriber-1" class="anchor">§</a><h4 class="code-header">fn <a href="https://docs.rs/tracing-futures/0.2.5/tracing_futures/trait.WithSubscriber.html#method.with_current_subscriber" class="fn">with_current_subscriber</a>(self) -&gt; <a class="struct" href="https://docs.rs/tracing-futures/0.2.5/tracing_futures/struct.WithDispatch.html" title="struct tracing_futures::WithDispatch">WithDispatch</a>&lt;Self&gt;</h4></section></summary><div class='docblock'>Attaches the current <a href="https://docs.rs/tracing/latest/tracing/dispatcher/index.html#setting-the-default-subscriber">default</a> <a href="https://docs.rs/tracing/latest/tracing/subscriber/trait.Subscriber.html"><code>Subscriber</code></a> to this type, returning a
<code>WithDispatch</code> wrapper. <a href="https://docs.rs/tracing-futures/0.2.5/tracing_futures/trait.WithSubscriber.html#method.with_current_subscriber">Read more</a></div></details></div></details></div></section></div></main><div id="rustdoc-vars" data-root-path="../../" data-static-root-path="../../static.files/" data-current-crate="twitch_oauth2" data-themes="" data-resource-suffix="" data-rustdoc-version="1.68.0-nightly (d0dc9efff 2022-12-18)" data-search-js="search-444266647c4dba98.js" data-settings-js="settings-bebeae96e00e4617.js" data-settings-css="settings-58836c674e2f7bd2.css" ></div></body></html>